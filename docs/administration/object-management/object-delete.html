

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Object Deletion &#8212; MinIO Object Storage (AGPLv3)</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/main.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script src="../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
    <script src="../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/instantsearch.js@4"></script>
    <script defer="defer" src="../../_static/js/main.js"></script>
    <script defer="defer" src="../../_static/js/instantSearch.js"></script>
    <link rel="canonical" href="https://docs.min.io/community/minio-object-store/administration/object-management/object-delete.html" />
    <link rel="icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Object Lifecycle Management" href="object-lifecycle-management.html" />
    <link rel="prev" title="MinIO Object Locking" href="object-retention.html" /><meta name="pagename" content="administration/object-management/object-delete"/>

<!-- Preload fonts and scripts -->
<link rel="preload" href="../../_static/fonts/inter/Inter-Regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="../../_static/fonts/inter/Inter-Medium.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="../../_static/fonts/inter/Inter-Bold.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preconnect" href="https://E1CSOK3UC2-dsn.algolia.net" crossorigin />

<!-- Google Tag Manager: docs.min.io -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-56L9FLVL');</script>

<!-- Google Tag Manager: main -->
<script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TWQNHTD');
</script>

<!-- Google Analytics -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-56860620-1', 'auto');
    ga('send', 'pageview');
</script>

<!-- Linkedin -->
<script>
    _linkedin_partner_id = "1153348";
    window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];
    window._linkedin_data_partner_ids.push(_linkedin_partner_id);

    (function(l) {
    if (!l){window.lintrk = function(a,b){window.lintrk.q.push([a,b])};
    window.lintrk.q=[]}
    var s = document.getElementsByTagName("script")[0];
    var b = document.createElement("script");
    b.type = "text/javascript";b.async = true;
    b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";
    s.parentNode.insertBefore(b, s);})(window.lintrk);
</script>

<!-- Leadfeeder -->
<script>
    (function(){
        window.ldfdr = window.ldfdr || {};
        (function(d, s, ss, fs){
        fs = d.getElementsByTagName(s)[0];
        function ce(src){
            var cs  = d.createElement(s);
            cs.src = src;
            setTimeout(function(){fs.parentNode.insertBefore(cs,fs)}, 1);
        }
        ce(ss);
        })(document, 'script', 'https://sc.lfeeder.com/lftracker_v1_DzLR5a5kKJA7BoQ2.js');
    })();
</script>
   
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  


  </head><body><!-- Google Tag Manager: docs.min.io (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-56L9FLVL" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><header class="header inactive">
   <div class="container">
      <div class="header__inner">
         <a href="https://min.io?jmp=docs-minio-object-store" class="header__logo">
            <svg viewBox="0 0 162.612 24.465">
               <path d="M52.751.414h9.108v23.63h-9.108zM41.711.74l-18.488 9.92a.919.919 0 0 1-.856 0L3.879.74A2.808 2.808 0 0 0 2.558.414h-.023A2.4 2.4 0 0 0 0 2.641v21.376h9.1V13.842a.918.918 0 0 1 1.385-.682l10.361 5.568a3.634 3.634 0 0 0 3.336.028l10.933-5.634a.917.917 0 0 1 1.371.69v10.205h9.1V2.641A2.4 2.4 0 0 0 43.055.414h-.023a2.808 2.808 0 0 0-1.321.326zm65.564-.326h-9.237v10.755a.913.913 0 0 1-1.338.706L72.762.675a2.824 2.824 0 0 0-1.191-.261h-.016a2.4 2.4 0 0 0-2.535 2.227v21.377h9.163V13.275a.914.914 0 0 1 1.337-.707l24.032 11.2a2.813 2.813 0 0 0 1.188.26 2.4 2.4 0 0 0 2.535-2.227zm7.161 23.63V.414h4.191v23.63zm28.856.421c-11.274 0-19.272-4.7-19.272-12.232C124.02 4.741 132.066 0 143.292 0s19.32 4.7 19.32 12.233-7.902 12.232-19.32 12.232zm0-21.333c-8.383 0-14.84 3.217-14.84 9.1 0 5.926 6.457 9.1 14.84 9.1s14.887-3.174 14.887-9.1c0-5.883-6.504-9.1-14.887-9.1z" />
            </svg>
         </a>
         
         <!--
         <div class="header__actions">
            

            <button id="dark-mode-toggle" type="button" class="icon icon--switch"><svg width="21" height="21" viewBox="0 0 48 48" fill="currentColor">
    <path d="M24 42q-7.5 0-12.75-5.25T6 24q0-6.75 3.975-11.45Q13.95 7.85 20.4 6.5q2.05-.4 2.8.7t-.05 3q-.45 1.15-.7 2.35-.25 1.2-.25 2.45 0 4.5 3.15 7.65Q28.5 25.8 33 25.8q1.25 0 2.425-.225 1.175-.225 2.275-.625 2.15-.8 3.2.075 1.05.875.55 2.975-1.35 6.05-6.05 10.025Q30.7 42 24 42Zm0-3q5.45 0 9.5-3.375t5.05-7.925q-1.25.55-2.675.825Q34.45 28.8 33 28.8q-5.75 0-9.775-4.025T19.2 15q0-1.2.25-2.575.25-1.375.9-3.125-4.9 1.35-8.125 5.475Q9 18.9 9 24q0 6.25 4.375 10.625T24 39Zm-.2-14.85Z" />
</svg><svg width="17" height="17" viewBox="0 0 17 17">
    <path d="M8.5 2.898c-.167 0-.306-.055-.415-.164s-.164-.248-.164-.415V.58c0-.167.055-.306.164-.415S8.333 0 8.5 0s.306.055.415.164.164.248.164.415v1.739c0 .167-.055.306-.164.415s-.248.164-.415.164zm3.96 1.642c-.116-.116-.174-.251-.174-.406s.058-.29.174-.406l1.217-1.236c.116-.116.254-.174.415-.174s.299.058.415.174.174.251.174.406-.058.29-.174.406L13.272 4.54c-.116.116-.251.174-.406.174s-.29-.058-.406-.174zm2.222 4.54c-.167 0-.306-.055-.415-.164s-.164-.248-.164-.415.055-.306.164-.415.248-.164.415-.164h1.739c.167 0 .306.055.415.164S17 8.333 17 8.5s-.055.306-.164.415-.248.164-.415.164h-1.739zM8.5 17c-.167 0-.306-.055-.415-.164s-.164-.248-.164-.415v-1.739c0-.167.055-.306.164-.415s.248-.164.415-.164.306.055.415.164.164.248.164.415v1.739c0 .167-.055.306-.164.415S8.667 17 8.5 17zM3.728 4.54L2.492 3.323c-.116-.116-.174-.254-.174-.415s.058-.299.174-.415.251-.174.406-.174.29.058.406.174L4.54 3.728c.116.116.174.251.174.406s-.058.29-.174.406c-.116.103-.254.155-.415.155s-.293-.052-.396-.155zm9.968 9.968l-1.236-1.236c-.116-.116-.174-.251-.174-.406s.058-.29.174-.406c.103-.103.235-.155.396-.155s.299.052.415.155l1.256 1.217c.116.116.171.254.164.415s-.061.299-.164.415c-.116.116-.254.174-.415.174s-.299-.058-.415-.174h0zM.58 9.08c-.167 0-.306-.055-.415-.164S0 8.667 0 8.5s.055-.306.164-.415.248-.164.415-.164h1.739c.167 0 .306.055.415.164s.164.248.164.415-.055.306-.164.415-.248.164-.415.164H.58zm1.912 5.428c-.116-.116-.174-.251-.174-.406s.058-.29.174-.406l1.236-1.236c.103-.103.235-.155.396-.155s.299.052.415.155c.116.116.174.254.174.415s-.058.299-.174.415l-1.217 1.217c-.116.116-.254.174-.415.174s-.299-.058-.415-.174h0zM8.5 13.136a4.47 4.47 0 0 1-3.284-1.352A4.47 4.47 0 0 1 3.864 8.5a4.47 4.47 0 0 1 1.352-3.284A4.47 4.47 0 0 1 8.5 3.864a4.47 4.47 0 0 1 3.284 1.352A4.47 4.47 0 0 1 13.136 8.5a4.47 4.47 0 0 1-1.352 3.284A4.47 4.47 0 0 1 8.5 13.136zm0-1.159a3.35 3.35 0 0 0 2.463-1.014A3.35 3.35 0 0 0 11.977 8.5a3.35 3.35 0 0 0-1.014-2.463A3.35 3.35 0 0 0 8.5 5.023a3.35 3.35 0 0 0-2.463 1.014A3.35 3.35 0 0 0 5.023 8.5a3.35 3.35 0 0 0 1.014 2.463A3.35 3.35 0 0 0 8.5 11.977z" fill="currentColor" />
</svg>
               Dark Mode
            </button>
         </div>
         -->
      </div>
  
      <h2 class="header__title hidden-rm">Documentation</h2>

      

      <!--<div class="platform-nav">
    <div class="platform-nav__main">
        <div class="container">
        </div>
        <button type="button" class="icon search-toggle search-toggle--keyboard visible-rm"><svg width="14" height="15">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.5 6.5a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-1.59 5.535a6.5 6.5 0 1 1 1.179-.931l1.845 2.096a.75.75 0 0 1-1.127.99L9.91 12.036Z"/>
</svg>
            Search
        </button>
    </div>
</div> -->
         <div id="search">
            <div class="search__inner">
               <div id="search-box"></div>
               
               <div class="search__dropdown">
                  <div id="search-filters"></div>
                  <div id="search-clear"></div>
                  <div id="search-results"></div>
                  <div id="search-powered-by"></div>
               </div>
            </div>
         </div>
   </div>
 </header>
   <section class="content">
      <div class="container">
         <div class="sidebar inactive scrollbar">
            <div class="hide-aside visible-rm">
               <button type="button" class="icon"><svg width="12" height="12">
    <path d="M11.253 1.691L10.125.563 5.653 5.035 1.181.563.053 1.691l4.472 4.472-4.472 4.472 1.128 1.128 4.472-4.472 4.472 4.472 1.128-1.128-4.472-4.472z" fill-rule="evenodd"/>
</svg>
                     Close Doc Navigation
               </button>
            </div>

            <a class="sidebar__title" href="../../index.html">MinIO Object Storage</a>
            
            
      <nav
         class="docs"
         role="navigation"
      >
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../operations/deployments/installation.html">Installation and Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/replication/multi-site-replication.html">Site Replication Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/concepts.html">Core Operational Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/monitoring.html">Monitoring and Alerts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/external-iam.html">External Identity Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/server-side-encryption.html">Data Encryption (SSE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/network-encryption.html">Network Encryption (TLS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/checklists.html">Deployment Checklists</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/data-recovery.html">Recover after Hardware Failure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../minio-console.html">MinIO Console</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../object-management.html">Object Management</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="object-versioning.html">Bucket Versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="object-retention.html">MinIO Object Locking</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Object Deletion</a></li>
<li class="toctree-l2"><a class="reference internal" href="object-lifecycle-management.html">Object Lifecycle Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-compression.html">Data Compression</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../monitoring.html">Monitoring Bucket and Object Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../identity-access-management.html">Identity and Access Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-side-encryption.html">Server-Side Encryption of Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bucket-replication.html">Bucket Replication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch-framework.html">Batch Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">Core Administration Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers/minio-drivers.html">Software Development Kits (SDK)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers/security-token-service.html">Security Token Service (STS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers/transforms-with-object-lambda.html">Transforms with Object Lambda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers/file-transfer-protocol.html">File Transfer Protocol (FTP/SFTP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/kubernetes.html">Kubernetes Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/baremetal.html">Baremetal Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/s3-api-compatibility.html">S3 API Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integrations/integrations.html">Integrations</a></li>
</ul>

      </nav>
         </div><div class="content__toc scrollbar scrollbar--hover">
  	<button data-aside-toggle="doc" class="icon" type="button"><svg width="17" height="13" viewbox="0 0 17 13">
    <path d="M16.034 0H.966C.433 0 0 .346 0 .773s.433.773.966.773h15.068c.533 0 .966-.346.966-.773S16.567 0 16.034 0zm0 5.409H.966c-.533 0-.966.346-.966.773s.433.773.966.773h15.068c.533 0 .966-.346.966-.773s-.433-.773-.966-.773zm0 5.409H.966c-.533 0-.966.346-.966.773s.433.773.966.773h15.068c.533 0 .966-.346.966-.773s-.433-.773-.966-.773z" />
</svg> TOC Menu
  	</button>

  	<div id="content-toc"></div>
		<button class="icon search-toggle" type="button"><svg width="14" height="15">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.5 6.5a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-1.59 5.535a6.5 6.5 0 1 1 1.179-.931l1.845 2.096a.75.75 0 0 1-1.127.99L9.91 12.036Z"/>
</svg> Search
		</button>
</div>

         <div class="content__main">
            <div class="content__body">
               
  <section id="object-deletion">
<span id="minio-object-delete"></span><h1>Object Deletion<a class="headerlink" href="#object-deletion" title="Permalink to this heading"></a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id1">Overview</a></p></li>
<li><p><a class="reference internal" href="#permissions" id="id2">Permissions</a></p></li>
<li><p><a class="reference internal" href="#unversioned-objects" id="id3">Unversioned Objects</a></p></li>
<li><p><a class="reference internal" href="#versioned-objects" id="id4">Versioned Objects</a></p>
<ul>
<li><p><a class="reference internal" href="#delete-operations-on-the-current-version" id="id5">Delete operations on the current version</a></p></li>
<li><p><a class="reference internal" href="#delete-operations-on-a-prior-version" id="id6">Delete operations on a prior version</a></p></li>
<li><p><a class="reference internal" href="#delete-all-versions" id="id7">Delete all versions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#lifecycle-management-expiration" id="id8">Lifecycle Management Expiration</a></p></li>
<li><p><a class="reference internal" href="#retained-objects" id="id9">Retained Objects</a></p></li>
<li><p><a class="reference internal" href="#replicated-objects" id="id10">Replicated Objects</a></p>
<ul>
<li><p><a class="reference internal" href="#site-replication" id="id11">Site Replication</a></p></li>
<li><p><a class="reference internal" href="#bucket-replication" id="id12">Bucket Replication</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="overview">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>This page summarizes how a <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> operation affects objects depending on the configuration of the bucket that contains the object.</p>
<p>Any combination of the following factors may impact how <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> operations function:</p>
<ul class="simple">
<li><p><a class="reference internal" href="object-versioning.html#minio-bucket-versioning"><span class="std std-ref">Bucket versioning</span></a></p></li>
<li><p><a class="reference internal" href="object-retention.html#minio-object-locking"><span class="std std-ref">Object locking rules</span></a></p></li>
<li><p><a class="reference internal" href="object-lifecycle-management.html#minio-lifecycle-management"><span class="std std-ref">Object Lifecycle Management rules</span></a></p></li>
<li><p><a class="reference internal" href="object-lifecycle-management.html#minio-lifecycle-management-tiering"><span class="std std-ref">Object tiering</span></a></p></li>
<li><p><a class="reference internal" href="../../operations/replication/multi-site-replication.html#minio-site-replication-overview"><span class="std std-ref">Site</span></a> or <a class="reference internal" href="../bucket-replication.html#minio-replication-behavior-delete"><span class="std std-ref">bucket</span></a> replication</p></li>
<li><p><a class="reference internal" href="../../operations/concepts/scanner.html#minio-concepts-scanner"><span class="std std-ref">Scanner</span></a></p></li>
</ul>
</section>
<section id="permissions">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Permissions</a><a class="headerlink" href="#permissions" title="Permalink to this heading"></a></h2>
<p>MinIO uses a <a class="reference internal" href="../identity-access-management/policy-based-access-control.html#minio-policy"><span class="std std-ref">policy based access control</span></a> system for access management.
The user or service account must provide the correct policy action and conditions to allow a <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> for the bucket and object.</p>
</section>
<section id="unversioned-objects">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Unversioned Objects</a><a class="headerlink" href="#unversioned-objects" title="Permalink to this heading"></a></h2>
<p>When performing a <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> operation on an object in a bucket that does not have versioning enabled, the operation is straightforward.
After verifying the user or service account has permission to perform the <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> operation, MinIO permanently removes the object.</p>
<p>The user or service account requesting the delete action the action must have the <a class="reference internal" href="../identity-access-management/policy-based-access-control.html#policy-action.s3-DeleteObject" title="policy-action.s3:DeleteObject"><code class="xref minio minio-policy-action docutils literal notranslate"><span class="pre">s3:DeleteObject</span></code></a> action permission for the bucket and object.</p>
</section>
<section id="versioned-objects">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Versioned Objects</a><a class="headerlink" href="#versioned-objects" title="Permalink to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">DELETE</span></code> operations work differently when an object is versioned.</p>
<p>The user or service account must have the <a class="reference internal" href="../identity-access-management/policy-based-access-control.html#policy-action.s3-DeleteObjectVersion" title="policy-action.s3:DeleteObjectVersion"><code class="xref minio minio-policy-action docutils literal notranslate"><span class="pre">s3:DeleteObjectVersion</span></code></a> action permission for the bucket and object.</p>
<section id="delete-operations-on-the-current-version">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Delete operations on the current version</a><a class="headerlink" href="#delete-operations-on-the-current-version" title="Permalink to this heading"></a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> operation on a versioned object that does not specify a version UUID results in the creation of a <code class="docutils literal notranslate"><span class="pre">DeleteMarker</span></code> placed as the <code class="docutils literal notranslate"><span class="pre">head</span></code> of the object.</p>
<p>In this scenario, MinIO does not actually remove the object or any of its versions from the disk.
All existing versions of the object remain available to access by specifying the version’s UUID.
When a <code class="docutils literal notranslate"><span class="pre">DeleteMarker</span></code> is the head for the object, MinIO does not serve the object for <code class="docutils literal notranslate"><span class="pre">GET</span></code> requests that do not specify a version ID.
Instead, MinIO returns a <code class="docutils literal notranslate"><span class="pre">404</span></code>-like response.</p>
<p>You can find the UUID of object versions with <a class="reference internal" href="../../reference/minio-mc/mc-ls.html#mc.ls.-versions" title="mc.ls.--versions"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">mc</span> <span class="pre">ls</span> <span class="pre">--versions</span></code></a>.</p>
<p>To remove the current version of the object from the drive, find the UUID of the version, and then use <a class="reference internal" href="../../reference/minio-mc/mc-rm.html#mc.rm.-version-id" title="mc.rm.--version-id"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">mc</span> <span class="pre">rm</span> <span class="pre">--version-id=UUID</span> <span class="pre">...</span></code></a> to delete the current version.
In this scenario, the immediately preceding version of the object then becomes the current version of the object served for <code class="docutils literal notranslate"><span class="pre">GET</span></code> requests of the object with no UUID specified.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Specifying a <code class="docutils literal notranslate"><span class="pre">version-id</span></code> in a DELETE operation is irreversible.
MinIO removes the specified version from the drive and <strong>cannot</strong> retrieve it.</p>
</div>
</section>
<section id="delete-operations-on-a-prior-version">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Delete operations on a prior version</a><a class="headerlink" href="#delete-operations-on-a-prior-version" title="Permalink to this heading"></a></h3>
<p>To delete prior versions of an object, specify the version’s UUID.
You can retrieve the version UUID with <a class="reference internal" href="../../reference/minio-mc/mc-ls.html#mc.ls.-versions" title="mc.ls.--versions"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">mc</span> <span class="pre">ls</span> <span class="pre">--versions</span></code></a>.
When the <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> request specifies a <code class="docutils literal notranslate"><span class="pre">version-id</span></code> and the user has the correct permissions to delete the object version`, MinIO permanently removes the specified version from the drive.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Specifying a <code class="docutils literal notranslate"><span class="pre">version-id</span></code> in a DELETE operation is irreversible.
MinIO removes the specified version from the drive and <strong>cannot</strong> retrieve it.</p>
</div>
</section>
<section id="delete-all-versions">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Delete all versions</a><a class="headerlink" href="#delete-all-versions" title="Permalink to this heading"></a></h3>
<p>Use <a class="reference internal" href="../../reference/minio-mc/mc-rm.html#mc.rm.-versions" title="mc.rm.--versions"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">mc</span> <span class="pre">rm</span> <span class="pre">--versions</span></code></a> to delete <em>all</em> versions of an object.
This is irreversible.</p>
</section>
</section>
<section id="lifecycle-management-expiration">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Lifecycle Management Expiration</a><a class="headerlink" href="#lifecycle-management-expiration" title="Permalink to this heading"></a></h2>
<p>You can define one or more <a class="reference internal" href="create-lifecycle-management-expiration-rule.html#minio-lifecycle-management-create-expiry-rule"><span class="std std-ref">lifecycle management expiration rule(s)</span></a> to expire objects after a certain version number count or a certain period of time.
When more versions exist than the rule specifies, or when a version is older than specified, MinIO permanently removes the object version from the drive.</p>
<p>These rules rely on the <a class="reference internal" href="../../operations/concepts/scanner.html#minio-concepts-scanner"><span class="std std-ref">scanner</span></a> to process the rule on the bucket.
The scanner operates as a lower priority continuous process where <code class="docutils literal notranslate"><span class="pre">READ</span></code> and <code class="docutils literal notranslate"><span class="pre">WRITE</span></code> actions are preferred.
Because of this, object versions that meet the requirements for expiration may not immediately be removed from MinIO.</p>
<p>See the <a class="reference internal" href="../../operations/concepts/scanner.html#minio-concepts-scanner"><span class="std std-ref">scanner</span></a> page for more details on how the scanner works and configuration options.</p>
<p><code class="docutils literal notranslate"><span class="pre">DeleteMarkers</span></code> are their own objects.
Lifecycle rules can remove <code class="docutils literal notranslate"><span class="pre">DeleteMarkers</span></code> that are the only remaining versions of their objects.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version MinIO: </span>RELEASE.2024-05-01T01-11-10Z</p>
</div>
<p>With <code class="docutils literal notranslate"><span class="pre">JSON</span></code>, lifecycle rules can remove all versions of a deleted object after a specified number of days.</p>
</section>
<section id="retained-objects">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Retained Objects</a><a class="headerlink" href="#retained-objects" title="Permalink to this heading"></a></h2>
<p>MinIO protects objects subject to a <a class="reference internal" href="object-retention.html#minio-object-locking"><span class="std std-ref">locking rule</span></a> from being overwritten or deleted.
These rules require that objects be retained until either the rule expires or is removed.</p>
<p><code class="docutils literal notranslate"><span class="pre">DELETE</span></code> operations on locked objects without a specified version result in the creation of a <cite>DeleteMarker</cite> for the object.
However, the object versions themselves are retained as required by the lock.</p>
<p><code class="docutils literal notranslate"><span class="pre">DELETE</span></code> operations that specify an object version are subject to the retention rules.
MinIO protects object versions subject to a lock from being overwritten or deleted until the lock expires or is removed.</p>
</section>
<section id="replicated-objects">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Replicated Objects</a><a class="headerlink" href="#replicated-objects" title="Permalink to this heading"></a></h2>
<p>Replication duplicates objects from one location to another.
MinIO supports replication at the bucket level or the cluster (“site”) level.</p>
<p>Delete operations may or may not replicate, depending on the type of replication and how the replication is configured.</p>
<section id="site-replication">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Site Replication</a><a class="headerlink" href="#site-replication" title="Permalink to this heading"></a></h3>
<p>For clusters with <a class="reference internal" href="../../operations/replication/multi-site-replication.html#minio-site-replication-overview"><span class="std std-ref">multi-site replication</span></a> enabled, MinIO replicates all <code class="docutils literal notranslate"><span class="pre">delete</span></code> operations performed on any cluster to each of the other clusters in the peer group.</p>
<p>Delete behavior on any single peer follows the same processes as any MinIO deployment.</p>
</section>
<section id="bucket-replication">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Bucket Replication</a><a class="headerlink" href="#bucket-replication" title="Permalink to this heading"></a></h3>
<p>With <a class="reference internal" href="../bucket-replication.html#minio-bucket-replication"><span class="std std-ref">bucket replication</span></a>, MinIO supports replicating delete operations between a source bucket and a configured remote bucket.
MinIO synchronizes deleting specific object versions <em>and</em> new  <a class="reference external" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/delete-marker-replication.html">delete markers</a>.
Delete operation replication uses the same <a class="reference internal" href="../bucket-replication.html#minio-replication-process"><span class="std std-ref">replication process</span></a> as all other replication operations.</p>
<p>MinIO requires <em>explicitly enabling</em> versioned deletes and delete marker replication.
Use the <a class="reference internal" href="../../reference/minio-mc/mc-replicate-add.html#mc.replicate.add.-replicate" title="mc.replicate.add.--replicate"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">mc</span> <span class="pre">replicate</span> <span class="pre">add</span> <span class="pre">--replicate</span></code></a> field to specify either <code class="docutils literal notranslate"><span class="pre">delete</span></code> and <code class="docutils literal notranslate"><span class="pre">delete-marker</span></code> or both to enable versioned deletes and delete marker replication, respectively.
To enable both, specify both strings using a comma separator: <code class="docutils literal notranslate"><span class="pre">delete,delete-marker</span></code>.</p>
<p>For delete marker replication, MinIO begins the replication process after a delete operation creates the delete marker.
MinIO uses the <code class="docutils literal notranslate"><span class="pre">X-Minio-Replication-DeleteMarker-Status</span></code> metadata field for tracking  delete marker replication status.
In <a class="reference internal" href="../bucket-replication/enable-server-side-two-way-bucket-replication.html#minio-bucket-replication-serverside-twoway"><span class="std std-ref">active-active</span></a> replication configurations, MinIO may produce duplicate delete markers if both clusters concurrently create a delete marker for an object <em>or</em> if one or both clusters were down before the replication event synchronized.</p>
<p>For replicating the deletion of a specific object version, MinIO marks the object version as <code class="docutils literal notranslate"><span class="pre">PENDING</span></code> until replication completes.
Once the remote target deletes that object version, MinIO deletes the object version on the source.
While this process ensures near-synchronized version deletion, it may result in listing operations returning the object version after the initial delete operation.
MinIO uses the <code class="docutils literal notranslate"><span class="pre">X-Minio-Replication-Delete-Status</span></code> for tracking delete version replication status.</p>
<p>MinIO only replicates explicit client-driven delete operations.
MinIO does <em>not</em> replicate objects deleted by <a class="reference internal" href="object-lifecycle-management.html#minio-lifecycle-management-expiration"><span class="std std-ref">lifecycle management expiration rules</span></a>.
For <a class="reference internal" href="../bucket-replication/enable-server-side-two-way-bucket-replication.html#minio-bucket-replication-serverside-twoway"><span class="std std-ref">active-active</span></a> configurations, set the same expiration rules on <em>all</em> of of the replication buckets to ensure consistent application of object expiration.</p>
<div class="note dropdown admonition">
<p class="admonition-title">MinIO Trims Empty Object Prefixes on Source and Remote Bucket</p>
<p>If a delete operation removes the last object in a bucket prefix, MinIO recursively removes each empty part of the prefix up to the bucket root.
MinIO only applies the recursive removal to prefixes created <em>implicitly</em> as part of object write operations.
MinIO does not recursively remove prefixes created using an explicit directory creation command, such as <a class="reference internal" href="../../reference/minio-mc/mc-mb.html#command-mc.mb" title="mc.mb"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">mc</span> <span class="pre">mb</span></code></a>.</p>
<p>If a replication rule enables replication delete operations, the replication process <em>also</em> applies the implicit prefix trimming behavior on the destination MinIO cluster.</p>
<p>For example, consider a bucket <code class="docutils literal notranslate"><span class="pre">photos</span></code> with the following object prefixes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">photos/2021/january/myphoto.jpg</span></code> // <code class="docutils literal notranslate"><span class="pre">2021/january/</span></code> created implicitly based on the object name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">photos/2021/february/myotherphoto.jpg</span></code>  // <code class="docutils literal notranslate"><span class="pre">2021/february/</span></code> created implicitly based on the object name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">photos/NYE21/NewYears.jpg</span></code>  // <code class="docutils literal notranslate"><span class="pre">NYE21/</span></code> explicitly created in the bucket</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">photos/NYE21</span></code> is the <em>only</em> prefix explicitly created using <a class="reference internal" href="../../reference/minio-mc/mc-mb.html#command-mc.mb" title="mc.mb"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">mc</span> <span class="pre">mb</span></code></a>.
All other prefixes were <em>implicitly</em> created as part of writing the object located at that prefix.</p>
<ul class="simple">
<li><p>A command removes <code class="docutils literal notranslate"><span class="pre">myphoto.jpg</span></code>.
MinIO automatically trims the empty <code class="docutils literal notranslate"><span class="pre">/january/</span></code> prefix.</p></li>
<li><p>A command then removes the <code class="docutils literal notranslate"><span class="pre">myotherphoto.jpg</span></code>.
MinIO automatically trims the <code class="docutils literal notranslate"><span class="pre">/february/</span></code> prefix <em>and</em> the now-empty <code class="docutils literal notranslate"><span class="pre">/2021</span></code> prefix.</p></li>
<li><p>A command removes the <code class="docutils literal notranslate"><span class="pre">NewYears.jpg</span></code> object.
MinIO leaves the <code class="docutils literal notranslate"><span class="pre">/NYE21/</span></code> prefix remains in place since it was <em>explicitly</em> created.</p></li>
</ul>
</div>
</section>
</section>
</section>


            </div><div class="footer">
   This work is licensed under a
   <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License.</a>
   2020-Present, MinIO, Inc. 
   <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
      <img height="10" alt="Creative Commons License" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
   </a>
</div>
         </div>
      </div>
   </section><div id="cookie">
    <div class="container">
        <div class="cookie__text">
            <strong>Your privacy is important to us:</strong>
            We use cookies in order to give you a better experience. If you wish so, you can always review our 
            <a target="_blank" rel="noreferrer noopener" href="https://min.io/privacy-policy">Privacy Policy</a>.
        </div>

        <button type="button" id="cookie__btn">Accept</button>
    </div>
</div><script>
    // Dark mode and read mode detection

    // Dark mode
    /*var isDarkMode = localStorage.getItem("dark-mode");
    var dmToggleBtn = document.getElementById("dark-mode-toggle");
    if (isDarkMode === "true") {
       document.documentElement.classList.add("dark-mode");
       dmToggleBtn.classList.add("active");
    }

    // Read mode
    var isReadMode = localStorage.getItem("read-mode");
    var rmToggleBtn = document.getElementById("read-mode-toggle");

    if (isReadMode === "true") {
        document.documentElement.classList.add("read-mode");
        rmToggleBtn.classList.add("active");
    }*/
 </script>
  </body>
</html>
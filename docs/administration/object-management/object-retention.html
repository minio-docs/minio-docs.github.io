

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>MinIO Object Locking &#8212; MinIO Object Storage (AGPLv3)</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/main.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script src="../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
    <script src="../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/instantsearch.js@4"></script>
    <script defer="defer" src="../../_static/js/main.js"></script>
    <script defer="defer" src="../../_static/js/instantSearch.js"></script>
    <link rel="canonical" href="https://docs.min.io/community/minio-object-store/administration/object-management/object-retention.html" />
    <link rel="icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Object Deletion" href="object-delete.html" />
    <link rel="prev" title="Bucket Versioning" href="object-versioning.html" /><meta name="pagename" content="administration/object-management/object-retention"/>

<!-- Preload fonts and scripts -->
<link rel="preload" href="../../_static/fonts/inter/Inter-Regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="../../_static/fonts/inter/Inter-Medium.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="../../_static/fonts/inter/Inter-Bold.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preconnect" href="https://E1CSOK3UC2-dsn.algolia.net" crossorigin />

<!-- Google Tag Manager: docs.min.io -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-56L9FLVL');</script>

<!-- Google Tag Manager: main -->
<script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TWQNHTD');
</script>

<!-- Google Analytics -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-56860620-1', 'auto');
    ga('send', 'pageview');
</script>

<!-- Linkedin -->
<script>
    _linkedin_partner_id = "1153348";
    window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];
    window._linkedin_data_partner_ids.push(_linkedin_partner_id);

    (function(l) {
    if (!l){window.lintrk = function(a,b){window.lintrk.q.push([a,b])};
    window.lintrk.q=[]}
    var s = document.getElementsByTagName("script")[0];
    var b = document.createElement("script");
    b.type = "text/javascript";b.async = true;
    b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";
    s.parentNode.insertBefore(b, s);})(window.lintrk);
</script>

<!-- Leadfeeder -->
<script>
    (function(){
        window.ldfdr = window.ldfdr || {};
        (function(d, s, ss, fs){
        fs = d.getElementsByTagName(s)[0];
        function ce(src){
            var cs  = d.createElement(s);
            cs.src = src;
            setTimeout(function(){fs.parentNode.insertBefore(cs,fs)}, 1);
        }
        ce(ss);
        })(document, 'script', 'https://sc.lfeeder.com/lftracker_v1_DzLR5a5kKJA7BoQ2.js');
    })();
</script>
   
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  


  </head><body><!-- Google Tag Manager: docs.min.io (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-56L9FLVL" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><header class="header inactive">
   <div class="container">
      <div class="header__inner">
         <a href="https://min.io?jmp=docs-minio-object-store" class="header__logo">
            <svg viewBox="0 0 162.612 24.465">
               <path d="M52.751.414h9.108v23.63h-9.108zM41.711.74l-18.488 9.92a.919.919 0 0 1-.856 0L3.879.74A2.808 2.808 0 0 0 2.558.414h-.023A2.4 2.4 0 0 0 0 2.641v21.376h9.1V13.842a.918.918 0 0 1 1.385-.682l10.361 5.568a3.634 3.634 0 0 0 3.336.028l10.933-5.634a.917.917 0 0 1 1.371.69v10.205h9.1V2.641A2.4 2.4 0 0 0 43.055.414h-.023a2.808 2.808 0 0 0-1.321.326zm65.564-.326h-9.237v10.755a.913.913 0 0 1-1.338.706L72.762.675a2.824 2.824 0 0 0-1.191-.261h-.016a2.4 2.4 0 0 0-2.535 2.227v21.377h9.163V13.275a.914.914 0 0 1 1.337-.707l24.032 11.2a2.813 2.813 0 0 0 1.188.26 2.4 2.4 0 0 0 2.535-2.227zm7.161 23.63V.414h4.191v23.63zm28.856.421c-11.274 0-19.272-4.7-19.272-12.232C124.02 4.741 132.066 0 143.292 0s19.32 4.7 19.32 12.233-7.902 12.232-19.32 12.232zm0-21.333c-8.383 0-14.84 3.217-14.84 9.1 0 5.926 6.457 9.1 14.84 9.1s14.887-3.174 14.887-9.1c0-5.883-6.504-9.1-14.887-9.1z" />
            </svg>
         </a>
         
         <!--
         <div class="header__actions">
            

            <button id="dark-mode-toggle" type="button" class="icon icon--switch"><svg width="21" height="21" viewBox="0 0 48 48" fill="currentColor">
    <path d="M24 42q-7.5 0-12.75-5.25T6 24q0-6.75 3.975-11.45Q13.95 7.85 20.4 6.5q2.05-.4 2.8.7t-.05 3q-.45 1.15-.7 2.35-.25 1.2-.25 2.45 0 4.5 3.15 7.65Q28.5 25.8 33 25.8q1.25 0 2.425-.225 1.175-.225 2.275-.625 2.15-.8 3.2.075 1.05.875.55 2.975-1.35 6.05-6.05 10.025Q30.7 42 24 42Zm0-3q5.45 0 9.5-3.375t5.05-7.925q-1.25.55-2.675.825Q34.45 28.8 33 28.8q-5.75 0-9.775-4.025T19.2 15q0-1.2.25-2.575.25-1.375.9-3.125-4.9 1.35-8.125 5.475Q9 18.9 9 24q0 6.25 4.375 10.625T24 39Zm-.2-14.85Z" />
</svg><svg width="17" height="17" viewBox="0 0 17 17">
    <path d="M8.5 2.898c-.167 0-.306-.055-.415-.164s-.164-.248-.164-.415V.58c0-.167.055-.306.164-.415S8.333 0 8.5 0s.306.055.415.164.164.248.164.415v1.739c0 .167-.055.306-.164.415s-.248.164-.415.164zm3.96 1.642c-.116-.116-.174-.251-.174-.406s.058-.29.174-.406l1.217-1.236c.116-.116.254-.174.415-.174s.299.058.415.174.174.251.174.406-.058.29-.174.406L13.272 4.54c-.116.116-.251.174-.406.174s-.29-.058-.406-.174zm2.222 4.54c-.167 0-.306-.055-.415-.164s-.164-.248-.164-.415.055-.306.164-.415.248-.164.415-.164h1.739c.167 0 .306.055.415.164S17 8.333 17 8.5s-.055.306-.164.415-.248.164-.415.164h-1.739zM8.5 17c-.167 0-.306-.055-.415-.164s-.164-.248-.164-.415v-1.739c0-.167.055-.306.164-.415s.248-.164.415-.164.306.055.415.164.164.248.164.415v1.739c0 .167-.055.306-.164.415S8.667 17 8.5 17zM3.728 4.54L2.492 3.323c-.116-.116-.174-.254-.174-.415s.058-.299.174-.415.251-.174.406-.174.29.058.406.174L4.54 3.728c.116.116.174.251.174.406s-.058.29-.174.406c-.116.103-.254.155-.415.155s-.293-.052-.396-.155zm9.968 9.968l-1.236-1.236c-.116-.116-.174-.251-.174-.406s.058-.29.174-.406c.103-.103.235-.155.396-.155s.299.052.415.155l1.256 1.217c.116.116.171.254.164.415s-.061.299-.164.415c-.116.116-.254.174-.415.174s-.299-.058-.415-.174h0zM.58 9.08c-.167 0-.306-.055-.415-.164S0 8.667 0 8.5s.055-.306.164-.415.248-.164.415-.164h1.739c.167 0 .306.055.415.164s.164.248.164.415-.055.306-.164.415-.248.164-.415.164H.58zm1.912 5.428c-.116-.116-.174-.251-.174-.406s.058-.29.174-.406l1.236-1.236c.103-.103.235-.155.396-.155s.299.052.415.155c.116.116.174.254.174.415s-.058.299-.174.415l-1.217 1.217c-.116.116-.254.174-.415.174s-.299-.058-.415-.174h0zM8.5 13.136a4.47 4.47 0 0 1-3.284-1.352A4.47 4.47 0 0 1 3.864 8.5a4.47 4.47 0 0 1 1.352-3.284A4.47 4.47 0 0 1 8.5 3.864a4.47 4.47 0 0 1 3.284 1.352A4.47 4.47 0 0 1 13.136 8.5a4.47 4.47 0 0 1-1.352 3.284A4.47 4.47 0 0 1 8.5 13.136zm0-1.159a3.35 3.35 0 0 0 2.463-1.014A3.35 3.35 0 0 0 11.977 8.5a3.35 3.35 0 0 0-1.014-2.463A3.35 3.35 0 0 0 8.5 5.023a3.35 3.35 0 0 0-2.463 1.014A3.35 3.35 0 0 0 5.023 8.5a3.35 3.35 0 0 0 1.014 2.463A3.35 3.35 0 0 0 8.5 11.977z" fill="currentColor" />
</svg>
               Dark Mode
            </button>
         </div>
         -->
      </div>
  
      <h2 class="header__title hidden-rm">Documentation</h2>

      

      <!--<div class="platform-nav">
    <div class="platform-nav__main">
        <div class="container">
        </div>
        <button type="button" class="icon search-toggle search-toggle--keyboard visible-rm"><svg width="14" height="15">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.5 6.5a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-1.59 5.535a6.5 6.5 0 1 1 1.179-.931l1.845 2.096a.75.75 0 0 1-1.127.99L9.91 12.036Z"/>
</svg>
            Search
        </button>
    </div>
</div> -->
         <div id="search">
            <div class="search__inner">
               <div id="search-box"></div>
               
               <div class="search__dropdown">
                  <div id="search-filters"></div>
                  <div id="search-clear"></div>
                  <div id="search-results"></div>
                  <div id="search-powered-by"></div>
               </div>
            </div>
         </div>
   </div>
 </header>
   <section class="content">
      <div class="container">
         <div class="sidebar inactive scrollbar">
            <div class="hide-aside visible-rm">
               <button type="button" class="icon"><svg width="12" height="12">
    <path d="M11.253 1.691L10.125.563 5.653 5.035 1.181.563.053 1.691l4.472 4.472-4.472 4.472 1.128 1.128 4.472-4.472 4.472 4.472 1.128-1.128-4.472-4.472z" fill-rule="evenodd"/>
</svg>
                     Close Doc Navigation
               </button>
            </div>

            <a class="sidebar__title" href="../../index.html">MinIO Object Storage</a>
            
            
      <nav
         class="docs"
         role="navigation"
      >
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../operations/deployments/installation.html">Installation and Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/replication/multi-site-replication.html">Site Replication Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/concepts.html">Core Operational Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/monitoring.html">Monitoring and Alerts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/external-iam.html">External Identity Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/server-side-encryption.html">Data Encryption (SSE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/network-encryption.html">Network Encryption (TLS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/checklists.html">Deployment Checklists</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/data-recovery.html">Recover after Hardware Failure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../minio-console.html">MinIO Console</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../object-management.html">Object Management</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="object-versioning.html">Bucket Versioning</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">MinIO Object Locking</a></li>
<li class="toctree-l2"><a class="reference internal" href="object-delete.html">Object Deletion</a></li>
<li class="toctree-l2"><a class="reference internal" href="object-lifecycle-management.html">Object Lifecycle Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-compression.html">Data Compression</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../monitoring.html">Monitoring Bucket and Object Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../identity-access-management.html">Identity and Access Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-side-encryption.html">Server-Side Encryption of Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bucket-replication.html">Bucket Replication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch-framework.html">Batch Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">Core Administration Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers/minio-drivers.html">Software Development Kits (SDK)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers/security-token-service.html">Security Token Service (STS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers/transforms-with-object-lambda.html">Transforms with Object Lambda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers/file-transfer-protocol.html">File Transfer Protocol (FTP/SFTP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/kubernetes.html">Kubernetes Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/baremetal.html">Baremetal Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/s3-api-compatibility.html">S3 API Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integrations/integrations.html">Integrations</a></li>
</ul>

      </nav>
         </div><div class="content__toc scrollbar scrollbar--hover">
  	<button data-aside-toggle="doc" class="icon" type="button"><svg width="17" height="13" viewbox="0 0 17 13">
    <path d="M16.034 0H.966C.433 0 0 .346 0 .773s.433.773.966.773h15.068c.533 0 .966-.346.966-.773S16.567 0 16.034 0zm0 5.409H.966c-.533 0-.966.346-.966.773s.433.773.966.773h15.068c.533 0 .966-.346.966-.773s-.433-.773-.966-.773zm0 5.409H.966c-.533 0-.966.346-.966.773s.433.773.966.773h15.068c.533 0 .966-.346.966-.773s-.433-.773-.966-.773z" />
</svg> TOC Menu
  	</button>

  	<div id="content-toc"></div>
		<button class="icon search-toggle" type="button"><svg width="14" height="15">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.5 6.5a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-1.59 5.535a6.5 6.5 0 1 1 1.179-.931l1.845 2.096a.75.75 0 0 1-1.127.99L9.91 12.036Z"/>
</svg> Search
		</button>
</div>

         <div class="content__main">
            <div class="content__body">
               
  <section id="minio-object-retention">
<span id="minio-object-locking"></span><span id="id1"></span><h1>MinIO Object Locking<a class="headerlink" href="#minio-object-retention" title="Permalink to this heading"></a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id2">Overview</a></p>
<ul>
<li><p><a class="reference internal" href="#interaction-with-versioning" id="id3">Interaction with Versioning</a></p></li>
<li><p><a class="reference internal" href="#interaction-with-lifecycle-management" id="id4">Interaction with Lifecycle Management</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tutorials" id="id5">Tutorials</a></p>
<ul>
<li><p><a class="reference internal" href="#create-bucket-with-object-locking-enabled" id="id6">Create Bucket with Object Locking Enabled</a></p></li>
<li><p><a class="reference internal" href="#configure-bucket-default-object-retention" id="id7">Configure Bucket-Default Object Retention</a></p></li>
<li><p><a class="reference internal" href="#enable-legal-hold-retention" id="id8">Enable Legal Hold Retention</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#object-retention-modes" id="id9">Object Retention Modes</a></p>
<ul>
<li><p><a class="reference internal" href="#governance-mode" id="id10">GOVERNANCE Mode</a></p></li>
<li><p><a class="reference internal" href="#compliance-mode" id="id11">COMPLIANCE Mode</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#legal-hold" id="id12">Legal Hold</a></p></li>
</ul>
</nav>
<div class="extlinks-video docutils container">
<ul class="simple">
<li><p><a class="reference external" href="https://youtu.be/Hk9Z-sltUu8?ref=docs">Object locking and retention overview</a></p></li>
<li><p><a class="reference external" href="https://youtu.be/thNus-DL1u4?ref=docs">Object locking and retention lab</a></p></li>
</ul>
</div>
<section id="overview">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>MinIO Object Locking (“Object Retention”) enforces Write-Once Read-Many (WORM)
immutability to protect <a class="reference internal" href="object-versioning.html#minio-bucket-versioning"><span class="std std-ref">versioned objects</span></a> from
deletion. MinIO supports both
<a class="reference internal" href="#minio-object-locking-retention-modes"><span class="std std-ref">duration based object retention</span></a>
and
<a class="reference internal" href="#minio-object-locking-legalhold"><span class="std std-ref">indefinite legal hold retention</span></a>.</p>
<p>MinIO Object Locking provides key data retention compliance and meets
SEC17a-4(f), FINRA 4511(C), and CFTC 1.31(c)-(d) requirements as per
<a class="reference external" href="https://min.io/cohasset?ref-docs">Cohasset Associates</a>.</p>
<div class="sd-sphinx-override sd-cards-carousel sd-card-cols-1 docutils">
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Bucket Without Locking</div>
<a class=""
               data-lightbox="group-ecf85223-758d-4438-b203-52c7c24a0513"
               href="../../_images/minio-versioning-delete-object1.svg"
               title=""
               data-title=""
               
               ><img src="../../_images/minio-versioning-delete-object1.svg"
                     class="align-center"
                     width="600px"
                     height="auto"
                     alt="Deleting an Object"/>
                </a><p class="sd-card-text">MinIO versioning preserves the full history of object mutations.
However, applications can explicitly delete specific object versions.</p>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Bucket With Locking</div>
<a class=""
               data-lightbox="group-26b154c6-b003-4406-8722-a4d26fff2c38"
               href="../../_images/minio-object-locking1.svg"
               title=""
               data-title=""
               
               ><img src="../../_images/minio-object-locking1.svg"
                     class="align-center"
                     width="600px"
                     height="auto"
                     alt="30 Day Locked Objects"/>
                </a><p class="sd-card-text">Applying a default 30 Day WORM lock to objects in the bucket ensures
a minimum period of retention and protection for all object versions.</p>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Delete Operations in Locked Bucket</div>
<a class=""
               data-lightbox="group-255c2b97-a9ac-4ae5-b8c1-ab39af392539"
               href="../../_images/minio-object-locking-delete1.svg"
               title=""
               data-title=""
               
               ><img src="../../_images/minio-object-locking-delete1.svg"
                     class="align-center"
                     width="600px"
                     height="auto"
                     alt="Delete Operation in Locked Bucket"/>
                </a><p class="sd-card-text"><a class="reference internal" href="object-delete.html#minio-object-delete"><span class="std std-ref">Delete operations</span></a> follow normal behavior in
<a class="reference internal" href="object-versioning.html#minio-bucket-versioning-delete"><span class="std std-ref">versioned buckets</span></a>, where MinIO
creates a <code class="docutils literal notranslate"><span class="pre">DeleteMarker</span></code> for the object. However, non-Delete Marker
versions of the object remain under the retention rules and are protected
from any specific deletion or overwrite attempts.</p>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Versioned Delete Operations in Locked Bucket</div>
<a class=""
               data-lightbox="group-d34a044c-f432-4dbb-a1c4-6cf851590942"
               href="../../_images/minio-object-locking-delete-version1.svg"
               title=""
               data-title=""
               
               ><img src="../../_images/minio-object-locking-delete-version1.svg"
                     class="align-center"
                     width="600px"
                     height="auto"
                     alt="Versioned Delete Operation in a Locked Bucket"/>
                </a><p class="sd-card-text">MinIO blocks any attempt to <a class="reference internal" href="object-delete.html#minio-object-delete"><span class="std std-ref">delete</span></a> a specific object version held under
WORM lock. The earliest possible time after which a client may delete
the version is when the lock expires.</p>
</div>
</div>
</div>
<p>MinIO object locking is
<a class="reference external" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lock.html">feature and API compatible with AWS S3</a>.
This page summarizes Object Locking / Retention concepts as implemented by
MinIO. See the AWS S3 documentation on
<a class="reference external" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lock.html">How S3 Object Lock works</a> for additional
resources.</p>
<p>You can only enable object locking during bucket creation as per
<a class="reference external" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lock-overview.html#object-lock-bucket-config">S3 behavior</a>.
You cannot enable object locking on a bucket created without locking
enabled. You can then configure object retention rules at any time.
Object locking requires <a class="reference internal" href="object-versioning.html#minio-bucket-versioning"><span class="std std-ref">versioning</span></a> and
enables the feature implicitly.</p>
<section id="interaction-with-versioning">
<span id="minio-bucket-locking-interactions-versioning"></span><h3><a class="toc-backref" href="#id3" role="doc-backlink">Interaction with Versioning</a><a class="headerlink" href="#interaction-with-versioning" title="Permalink to this heading"></a></h3>
<p>Objects held under WORM locked are immutable until the lock expires or is
explicitly lifted. Locking is per-object version, where each version is
independently immutable.</p>
<p>If an application performs an unversioned delete operation on a locked object,
the operation produces a <a class="reference internal" href="object-versioning.html#minio-bucket-versioning-delete"><span class="std std-ref">delete marker</span></a>.
Attempts to explicitly delete any WORM-locked object fail with an error.
Delete Markers are <em>not</em> eligible for protection under WORM locking.
See the S3 documentation on
<a class="reference external" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lock-managing.html#object-lock-managing-lifecycle">Managing delete markers and object lifecycles</a> for more
information.</p>
<p>For example, consider the following bucket with
<a class="reference internal" href="#minio-object-locking-governance"><span class="std std-ref">GOVERNANCE Mode</span></a> locking enabled by default:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mc<span class="w"> </span>ls<span class="w"> </span>--versions<span class="w"> </span>play/locking-guide

<span class="w">  </span><span class="o">[</span>DATETIME<span class="o">]</span><span class="w">    </span>29B<span class="w"> </span>62429eb1-9cb7-4dc5-b507-9cc23d0cc691<span class="w"> </span>v3<span class="w"> </span>PUT<span class="w"> </span>data.csv
<span class="w">  </span><span class="o">[</span>DATETIME<span class="o">]</span><span class="w">    </span>32B<span class="w"> </span>78b3105a-02a1-4763-8054-e66add087710<span class="w"> </span>v2<span class="w"> </span>PUT<span class="w"> </span>data.csv
<span class="w">  </span><span class="o">[</span>DATETIME<span class="o">]</span><span class="w">    </span>23B<span class="w"> </span>c6b581ca-2883-41e2-9905-0a1867b535b8<span class="w"> </span>v1<span class="w"> </span>PUT<span class="w"> </span>data.csv
</pre></div>
</div>
<p>Attempting to perform a delete on a <em>specific version</em> of <code class="docutils literal notranslate"><span class="pre">data.csv</span></code> fails
due to the object locking settings:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mc<span class="w"> </span>rm<span class="w"> </span>--version-id<span class="w"> </span>62429eb1-9cb7-4dc5-b507-9cc23d0cc691<span class="w"> </span>play/data.csv

<span class="w">  </span>Removing<span class="w"> </span><span class="sb">`</span>play/locking-guide/data.csv<span class="sb">`</span><span class="w"> </span><span class="o">(</span><span class="nv">versionId</span><span class="o">=</span>62429eb1-9cb7-4dc5-b507-9cc23d0cc691<span class="o">)</span>.
<span class="w">  </span>mc:<span class="w"> </span>&lt;ERROR&gt;<span class="w"> </span>Failed<span class="w"> </span>to<span class="w"> </span>remove<span class="w"> </span><span class="sb">`</span>play/locking-guide/data.csv<span class="sb">`</span>.
<span class="w">      </span>Object,<span class="w"> </span><span class="s1">&#39;data.csv (Version ID=62429eb1-9cb7-4dc5-b507-9cc23d0cc691)&#39;</span><span class="w"> </span>is
<span class="w">      </span>WORM<span class="w"> </span>protected<span class="w"> </span>and<span class="w"> </span>cannot<span class="w"> </span>be<span class="w"> </span>overwritten
</pre></div>
</div>
<p>Attempting to perform an unversioned delete on <code class="docutils literal notranslate"><span class="pre">data.csv</span></code> succeeds and creates
a new <code class="docutils literal notranslate"><span class="pre">DeleteMarker</span></code> for the object:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mc<span class="w"> </span>rm<span class="w"> </span>play/locking-guide/data.csv

<span class="w">  </span><span class="o">[</span>DATETIME<span class="o">]</span><span class="w">     </span>0B<span class="w"> </span>acce329f-ad32-46d9-8649-5fe8bf4ec6e0<span class="w"> </span>v4<span class="w"> </span>DEL<span class="w"> </span>data.csv
<span class="w">  </span><span class="o">[</span>DATETIME<span class="o">]</span><span class="w">    </span>29B<span class="w"> </span>62429eb1-9cb7-4dc5-b507-9cc23d0cc691<span class="w"> </span>v3<span class="w"> </span>PUT<span class="w"> </span>data.csv
<span class="w">  </span><span class="o">[</span>DATETIME<span class="o">]</span><span class="w">    </span>32B<span class="w"> </span>78b3105a-02a1-4763-8054-e66add087710<span class="w"> </span>v2<span class="w"> </span>PUT<span class="w"> </span>data.csv
<span class="w">  </span><span class="o">[</span>DATETIME<span class="o">]</span><span class="w">    </span>23B<span class="w"> </span>c6b581ca-2883-41e2-9905-0a1867b535b8<span class="w"> </span>v1<span class="w"> </span>PUT<span class="w"> </span>data.csv
</pre></div>
</div>
</section>
<section id="interaction-with-lifecycle-management">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Interaction with Lifecycle Management</a><a class="headerlink" href="#interaction-with-lifecycle-management" title="Permalink to this heading"></a></h3>
<p>MinIO <a class="reference internal" href="object-lifecycle-management.html#minio-lifecycle-management-expiration"><span class="std std-ref">object expiration</span></a>
respects any active object lock and retention settings for objects covered by
the expiration rule.</p>
<ul class="simple">
<li><p>For expiration rules operating on only the <em>current</em> object version,
MinIO creates a Delete Marker for the locked object.</p></li>
<li><p>For expiration rules operating on <em>non-current object versions</em>,
MinIO can only expire the non-current versions <em>after</em> the retention period
has passed <em>or</em> has been explicitly lifted (e.g. legal holds).</p></li>
</ul>
<p>For example, consider the following bucket with
<a class="reference internal" href="#minio-object-locking-governance"><span class="std std-ref">GOVERNANCE Mode</span></a> locking enabled by default for 45 days:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mc<span class="w"> </span>ls<span class="w"> </span>--versions<span class="w"> </span>play/locking-guide

<span class="w">  </span><span class="o">[</span>7D<span class="o">]</span><span class="w">    </span>29B<span class="w"> </span>62429eb1-9cb7-4dc5-b507-9cc23d0cc691<span class="w"> </span>v3<span class="w"> </span>PUT<span class="w"> </span>data.csv
<span class="w">  </span><span class="o">[</span>30D<span class="o">]</span><span class="w">    </span>32B<span class="w"> </span>78b3105a-02a1-4763-8054-e66add087710<span class="w"> </span>v2<span class="w"> </span>PUT<span class="w"> </span>data.csv
<span class="w">  </span><span class="o">[</span>60D<span class="o">]</span><span class="w">    </span>23B<span class="w"> </span>c6b581ca-2883-41e2-9905-0a1867b535b8<span class="w"> </span>v1<span class="w"> </span>PUT<span class="w"> </span>data.csv
</pre></div>
</div>
<p>Creating an expiration rule for <em>current</em> objects older than 7 days results in
a Delete Marker for the object:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mc<span class="w"> </span>ls<span class="w"> </span>--versions<span class="w"> </span>play/locking-guide

<span class="w">  </span><span class="o">[</span>0D<span class="o">]</span><span class="w">     </span>0B<span class="w"> </span>acce329f-ad32-46d9-8649-5fe8bf4ec6e0<span class="w"> </span>v4<span class="w"> </span>DEL<span class="w"> </span>data.csv
<span class="w">  </span><span class="o">[</span>7D<span class="o">]</span><span class="w">    </span>29B<span class="w"> </span>62429eb1-9cb7-4dc5-b507-9cc23d0cc691<span class="w"> </span>v3<span class="w"> </span>PUT<span class="w"> </span>data.csv
<span class="w">  </span><span class="o">[</span>30D<span class="o">]</span><span class="w">    </span>32B<span class="w"> </span>78b3105a-02a1-4763-8054-e66add087710<span class="w"> </span>v2<span class="w"> </span>PUT<span class="w"> </span>data.csv
<span class="w">  </span><span class="o">[</span>60D<span class="o">]</span><span class="w">    </span>23B<span class="w"> </span>c6b581ca-2883-41e2-9905-0a1867b535b8<span class="w"> </span>v1<span class="w"> </span>PUT<span class="w"> </span>data.csv
</pre></div>
</div>
<p>However, an expiration rule for <em>non-current</em> objects older than 7 days would
only take effect <em>after</em> the configured WORM lock expires. Since the bucket
has a 45 day <code class="docutils literal notranslate"><span class="pre">GOVERNANCE</span></code> retention set, only the <code class="docutils literal notranslate"><span class="pre">v1</span></code> version of
<code class="docutils literal notranslate"><span class="pre">data.csv</span></code> is unlocked and therefore eligible for deletion.</p>
</section>
</section>
<section id="tutorials">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Tutorials</a><a class="headerlink" href="#tutorials" title="Permalink to this heading"></a></h2>
<section id="create-bucket-with-object-locking-enabled">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Create Bucket with Object Locking Enabled</a><a class="headerlink" href="#create-bucket-with-object-locking-enabled" title="Permalink to this heading"></a></h3>
<p>You must enable object locking during bucket creation as per S3 behavior.
You can create a bucket with object locking enabled using the MinIO <a class="reference internal" href="../../reference/minio-mc.html#command-mc" title="mc"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">mc</span></code></a> CLI or using an S3-compatible SDK.</p>
<p>Use the <a class="reference internal" href="../../reference/minio-mc/mc-mb.html#command-mc.mb" title="mc.mb"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">mc</span> <span class="pre">mb</span></code></a> command with the <a class="reference internal" href="../../reference/minio-mc/mc-mb.html#mc.mb.-with-lock" title="mc.mb.--with-lock"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">--with-lock</span></code></a>
option to create a bucket with object locking enabled:</p>
<div class="copyable highlight-shell notranslate"><div class="highlight"><pre><span></span>mc<span class="w"> </span>mb<span class="w"> </span>--with-lock<span class="w"> </span>ALIAS/BUCKET
</pre></div>
</div>
<ul class="simple">
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">ALIAS</span></code> with the <a class="reference internal" href="../../reference/minio-mc/mc-alias.html#command-mc.alias" title="mc.alias"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">alias</span></code></a> of a configured
MinIO deployment.</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">BUCKET</span></code> with the
<a class="reference internal" href="../../reference/minio-mc/mc-mb.html#mc.mb.ALIAS" title="mc.mb.ALIAS"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">name</span></code></a> of the bucket to create.</p></li>
</ul>
</section>
<section id="configure-bucket-default-object-retention">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Configure Bucket-Default Object Retention</a><a class="headerlink" href="#configure-bucket-default-object-retention" title="Permalink to this heading"></a></h3>
<p>You can configure object locking rules (“object retention”) using the MinIO <a class="reference internal" href="../../reference/minio-mc.html#command-mc" title="mc"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">mc</span></code></a> CLI, or using an S3-compatible SDK.</p>
<p>MinIO supports setting both bucket-default <em>and</em> per-object retention rules.
The following examples set bucket-default retention. For per-object retention
settings, defer to the documentation for the <code class="docutils literal notranslate"><span class="pre">PUT</span></code> operation used by your
preferred SDK.</p>
<p>Use the <a class="reference internal" href="../../reference/minio-mc/mc-retention-set.html#command-mc.retention.set" title="mc.retention.set"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">mc</span> <span class="pre">retention</span> <span class="pre">set</span></code></a> command with the
<a class="reference internal" href="../../reference/minio-mc/mc-retention-set.html#mc.retention.set.-recursive" title="mc.retention.set.--recursive"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">--recursive</span></code></a> and
<a class="reference internal" href="../../reference/minio-mc/mc-retention-set.html#mc.retention.set.-default" title="mc.retention.set.--default"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">--default</span></code></a> options to set the
default retention mode for a bucket:</p>
<div class="copyable highlight-shell notranslate"><div class="highlight"><pre><span></span>mc<span class="w"> </span>retention<span class="w"> </span><span class="nb">set</span><span class="w"> </span>--recursive<span class="w"> </span>--default<span class="w"> </span>MODE<span class="w"> </span>DURATION<span class="w"> </span>ALIAS/BUCKET
</pre></div>
</div>
<ul class="simple">
<li><p>Replace <a class="reference internal" href="../../reference/minio-mc/mc-retention-set.html#mc.retention.set.MODE" title="mc.retention.set.MODE"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">MODE</span></code></a> with either either <a class="reference internal" href="#minio-object-locking-compliance"><span class="std std-ref">COMPLIANCE</span></a> or <a class="reference internal" href="#minio-object-locking-governance"><span class="std std-ref">GOVERNANCE</span></a>.</p></li>
<li><p>Replace <a class="reference internal" href="../../reference/minio-mc/mc-retention-set.html#mc.retention.set.VALIDITY" title="mc.retention.set.VALIDITY"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">DURATION</span></code></a> with the duration for which the object lock remains in effect.</p></li>
<li><p>Replace <a class="reference internal" href="../../reference/minio-mc/mc-retention-set.html#mc.retention.set.ALIAS" title="mc.retention.set.ALIAS"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">ALIAS</span></code></a> with the <a class="reference internal" href="../../reference/minio-mc/mc-alias.html#command-mc.alias" title="mc.alias"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">alias</span></code></a> of a configured MinIO deployment.</p></li>
<li><p>Replace <a class="reference internal" href="../../reference/minio-mc/mc-retention-set.html#mc.retention.set.ALIAS" title="mc.retention.set.ALIAS"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">BUCKET</span></code></a> with the name of the bucket on which to set the default retention rule.</p></li>
</ul>
</section>
<section id="enable-legal-hold-retention">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Enable Legal Hold Retention</a><a class="headerlink" href="#enable-legal-hold-retention" title="Permalink to this heading"></a></h3>
<p>You can enable or disable indefinite legal hold retention for an object using the MinIO <a class="reference internal" href="../../reference/minio-mc.html#command-mc" title="mc"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">mc</span></code></a> CLI or using an S3-compatible SDK.</p>
<p>You can place a legal hold on an object already held under a <a class="reference internal" href="#minio-object-locking-compliance"><span class="std std-ref">COMPLIANCE</span></a> or <a class="reference internal" href="#minio-object-locking-governance"><span class="std std-ref">GOVERNANCE</span></a> lock.
The object remains WORM locked under the legal hold even when the retention lock expires.
You or another user with the necessary permissions must explicitly lift the legal hold to remove the WORM lock.</p>
<p>Use the <span class="guilabel">mc legalhold set</span> command to toggle the legal hold status on an object.</p>
<div class="copyable highlight-shell notranslate"><div class="highlight"><pre><span></span>mc<span class="w"> </span>legalhold<span class="w"> </span><span class="nb">set</span><span class="w"> </span>ALIAS/PATH
</pre></div>
</div>
<ul class="simple">
<li><p>Replace <a class="reference internal" href="../../reference/minio-mc/mc-legalhold-set.html#mc.legalhold.set.ALIAS" title="mc.legalhold.set.ALIAS"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">ALIAS</span></code></a> with the <a class="reference internal" href="../../reference/minio-mc/mc-alias.html#command-mc.alias" title="mc.alias"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">alias</span></code></a> of a configured MinIO deployment.</p></li>
<li><p>Replace <a class="reference internal" href="../../reference/minio-mc/mc-legalhold-set.html#mc.legalhold.set.ALIAS" title="mc.legalhold.set.ALIAS"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">PATH</span></code></a> with the path to the object for which to enable the legal hold.</p></li>
</ul>
</section>
</section>
<section id="object-retention-modes">
<span id="minio-object-locking-retention-modes"></span><h2><a class="toc-backref" href="#id9" role="doc-backlink">Object Retention Modes</a><a class="headerlink" href="#object-retention-modes" title="Permalink to this heading"></a></h2>
<p>MinIO implements the following
<a class="reference external" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lock-overview.html">S3 Object Locking Modes</a>:</p>
<table class="docutils align-default" style="width: 100%">
<colgroup>
<col style="width: 40.0%" />
<col style="width: 60.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Mode</p></th>
<th class="head"><p>Summary</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#minio-object-locking-governance"><span class="std std-ref">GOVERNANCE Mode</span></a></p></td>
<td><p>Prevents any operation that would mutate or modify the object or its
locking settings by non-privileged users.</p>
<p>Users with the <a class="reference internal" href="../identity-access-management/policy-based-access-control.html#policy-action.s3-BypassGovernanceRetention" title="policy-action.s3:BypassGovernanceRetention"><code class="xref minio minio-policy-action docutils literal notranslate"><span class="pre">s3:BypassGovernanceRetention</span></code></a> permission
on the bucket or object can modify the object or its locking settings.</p>
<p>MinIO lifts the lock automatically after the configured retention rule
duration has passed.</p>
</td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#minio-object-locking-compliance"><span class="std std-ref">COMPLIANCE Mode</span></a></p></td>
<td><p>Prevents any operation that would mutate or modify the object or its
locking settings.</p>
<p>No MinIO user can modify the object or its settings, including the
<a class="reference internal" href="../identity-access-management/minio-user-management.html#minio-users-root"><span class="std std-ref">MinIO root</span></a> user.</p>
<p>MinIO lifts the lock automatically after the configured retention rule
duration has passed.</p>
</td>
</tr>
</tbody>
</table>
<section id="governance-mode">
<span id="minio-object-locking-governance"></span><h3><a class="toc-backref" href="#id10" role="doc-backlink">GOVERNANCE Mode</a><a class="headerlink" href="#governance-mode" title="Permalink to this heading"></a></h3>
<p>An object under <code class="docutils literal notranslate"><span class="pre">GOVERNANCE</span></code> lock is protected from write operations by
non-privileged users.</p>
<p><code class="docutils literal notranslate"><span class="pre">GOVERNANCE</span></code> locked objects enforce managed-immutability for locked objects,
where users with the <a class="reference internal" href="../identity-access-management/policy-based-access-control.html#policy-action.s3-BypassGovernanceRetention" title="policy-action.s3:BypassGovernanceRetention"><code class="xref minio minio-policy-action docutils literal notranslate"><span class="pre">s3:BypassGovernanceRetention</span></code></a> action can
modify the locked object, change the retention duration, or lift the lock
entirely. Bypassing <code class="docutils literal notranslate"><span class="pre">GOVERNANCE</span></code> retention also requires setting the
<code class="docutils literal notranslate"><span class="pre">x-amz-bypass-governance-retention:true</span></code> header as part of the request.</p>
<p>The MinIO <code class="docutils literal notranslate"><span class="pre">GOVERNANCE</span></code> lock is functionally identical to the
<a class="reference external" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lock.html#object-lock-retention-modes">S3 GOVERNANCE mode</a>.</p>
</section>
<section id="compliance-mode">
<span id="minio-object-locking-compliance"></span><h3><a class="toc-backref" href="#id11" role="doc-backlink">COMPLIANCE Mode</a><a class="headerlink" href="#compliance-mode" title="Permalink to this heading"></a></h3>
<p>An object under <code class="docutils literal notranslate"><span class="pre">COMPLIANCE</span></code> lock is protected from write operations by <em>all</em>
users, including the <a class="reference internal" href="../identity-access-management/minio-user-management.html#minio-users-root"><span class="std std-ref">MinIO root</span></a> user.</p>
<p><code class="docutils literal notranslate"><span class="pre">COMPLIANCE</span></code> locked objects enforce complete immutability for locked objects.
You cannot change or remove the lock before the configured retention
duration has passed.</p>
<p>The MinIO <code class="docutils literal notranslate"><span class="pre">COMPLIANCE</span></code> lock is functionally identical to the
<a class="reference external" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lock.html#object-lock-retention-modes">S3 COMPLIANCE mode</a>.</p>
</section>
</section>
<section id="legal-hold">
<span id="minio-object-locking-legalhold"></span><h2><a class="toc-backref" href="#id12" role="doc-backlink">Legal Hold</a><a class="headerlink" href="#legal-hold" title="Permalink to this heading"></a></h2>
<p>An object under legal hold is protected from write operations by <em>all</em>
users, including the <a class="reference internal" href="../identity-access-management/minio-user-management.html#minio-users-root"><span class="std std-ref">MinIO root</span></a> user.</p>
<p>Legal holds are indefinite and enforce complete immutability for locked objects.
Only privileged users with the <a class="reference internal" href="../identity-access-management/policy-based-access-control.html#policy-action.s3-PutObjectLegalHold" title="policy-action.s3:PutObjectLegalHold"><code class="xref minio minio-policy-action docutils literal notranslate"><span class="pre">s3:PutObjectLegalHold</span></code></a> permission can set or lift the legal hold.</p>
<p>Legal holds apply at the object level.
If you enable legal hold for a group of objects, such as the contents of a bucket, subsequently created objects in that bucket are not affected.</p>
<p>Legal holds are complementary to both <a class="reference internal" href="#minio-object-locking-governance"><span class="std std-ref">GOVERNANCE Mode</span></a> and <a class="reference internal" href="#minio-object-locking-compliance"><span class="std std-ref">COMPLIANCE Mode</span></a> retention settings.
An object held under both legal hold <em>and</em> a <code class="docutils literal notranslate"><span class="pre">GOVERNANCE/COMPLIANCE</span></code> retention rule remains WORM locked until the legal hold is lifted <em>and</em> the rule expires.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">GOVERNANCE</span></code> locked objects, the legal hold prevents mutating the object <em>even if</em> the user has the necessary privileges to bypass retention.</p>
</section>
</section>


            </div><div class="footer">
   This work is licensed under a
   <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License.</a>
   2020-Present, MinIO, Inc. 
   <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
      <img height="10" alt="Creative Commons License" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
   </a>
</div>
         </div>
      </div>
   </section><div id="cookie">
    <div class="container">
        <div class="cookie__text">
            <strong>Your privacy is important to us:</strong>
            We use cookies in order to give you a better experience. If you wish so, you can always review our 
            <a target="_blank" rel="noreferrer noopener" href="https://min.io/privacy-policy">Privacy Policy</a>.
        </div>

        <button type="button" id="cookie__btn">Accept</button>
    </div>
</div><script>
    // Dark mode and read mode detection

    // Dark mode
    /*var isDarkMode = localStorage.getItem("dark-mode");
    var dmToggleBtn = document.getElementById("dark-mode-toggle");
    if (isDarkMode === "true") {
       document.documentElement.classList.add("dark-mode");
       dmToggleBtn.classList.add("active");
    }

    // Read mode
    var isReadMode = localStorage.getItem("read-mode");
    var rmToggleBtn = document.getElementById("read-mode-toggle");

    if (isReadMode === "true") {
        document.documentElement.classList.add("read-mode");
        rmToggleBtn.classList.add("active");
    }*/
 </script>
  </body>
</html>
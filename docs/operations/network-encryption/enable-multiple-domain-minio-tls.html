

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Enable Multiple Domain TLS for MinIO &#8212; MinIO Object Storage (AGPLv3)</title>
    <link rel="stylesheet" type="text/css" href="../../static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../../static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="../../static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" />
    <link rel="stylesheet" type="text/css" href="../../static/css/main.min.css" />
    <link rel="stylesheet" type="text/css" href="../../static/custom.css" />
    <script data-url_root="../../" id="documentation_options" src="../../static/documentation_options.js"></script>
    <script src="../../static/doctools.js"></script>
    <script src="../../static/sphinx_highlight.js"></script>
    <script src="../../static/clipboard.min.js"></script>
    <script src="../../static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../static/design-tabs.js"></script>
    <script src="../../static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
    <script src="../../static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/instantsearch.js@4"></script>
    <script defer="defer" src="../../static/js/main.js"></script>
    <script defer="defer" src="../../static/js/instantSearch.js"></script>
    <link rel="canonical" href="https://docs.min.io/community/minio-object-store/operations/network-encryption/enable-multiple-domain-minio-tls.html" />
    <link rel="icon" href="../../static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="cert-manager" href="cert-manager.html" />
    <link rel="prev" title="Enable TLS for MinIO" href="enable-minio-tls.html" /><meta name="pagename" content="operations/network-encryption/enable-multiple-domain-minio-tls"/>

<!-- Preload fonts and scripts -->
<link rel="preload" href="../../static/fonts/inter/Inter-Regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="../../static/fonts/inter/Inter-Medium.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="../../static/fonts/inter/Inter-Bold.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preconnect" href="https://E1CSOK3UC2-dsn.algolia.net" crossorigin />

<!-- Google Tag Manager: docs.min.io -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-56L9FLVL');</script>

<!-- Google Tag Manager: main -->
<script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TWQNHTD');
</script>

<!-- Google Analytics -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-56860620-1', 'auto');
    ga('send', 'pageview');
</script>

<!-- Linkedin -->
<script>
    _linkedin_partner_id = "1153348";
    window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];
    window._linkedin_data_partner_ids.push(_linkedin_partner_id);

    (function(l) {
    if (!l){window.lintrk = function(a,b){window.lintrk.q.push([a,b])};
    window.lintrk.q=[]}
    var s = document.getElementsByTagName("script")[0];
    var b = document.createElement("script");
    b.type = "text/javascript";b.async = true;
    b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";
    s.parentNode.insertBefore(b, s);})(window.lintrk);
</script>

<!-- Leadfeeder -->
<script>
    (function(){
        window.ldfdr = window.ldfdr || {};
        (function(d, s, ss, fs){
        fs = d.getElementsByTagName(s)[0];
        function ce(src){
            var cs  = d.createElement(s);
            cs.src = src;
            setTimeout(function(){fs.parentNode.insertBefore(cs,fs)}, 1);
        }
        ce(ss);
        })(document, 'script', 'https://sc.lfeeder.com/lftracker_v1_DzLR5a5kKJA7BoQ2.js');
    })();
</script>
   
   
  <link rel="stylesheet" href="../../static/custom.css" type="text/css" />
  

  
  


  </head><body><!-- Google Tag Manager: docs.min.io (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-56L9FLVL" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><header class="header inactive">
   <div class="container">
      <div class="header__inner">
         <a href="https://min.io?jmp=docs-minio-object-store" class="header__logo">
            <svg viewBox="0 0 162.612 24.465">
               <path d="M52.751.414h9.108v23.63h-9.108zM41.711.74l-18.488 9.92a.919.919 0 0 1-.856 0L3.879.74A2.808 2.808 0 0 0 2.558.414h-.023A2.4 2.4 0 0 0 0 2.641v21.376h9.1V13.842a.918.918 0 0 1 1.385-.682l10.361 5.568a3.634 3.634 0 0 0 3.336.028l10.933-5.634a.917.917 0 0 1 1.371.69v10.205h9.1V2.641A2.4 2.4 0 0 0 43.055.414h-.023a2.808 2.808 0 0 0-1.321.326zm65.564-.326h-9.237v10.755a.913.913 0 0 1-1.338.706L72.762.675a2.824 2.824 0 0 0-1.191-.261h-.016a2.4 2.4 0 0 0-2.535 2.227v21.377h9.163V13.275a.914.914 0 0 1 1.337-.707l24.032 11.2a2.813 2.813 0 0 0 1.188.26 2.4 2.4 0 0 0 2.535-2.227zm7.161 23.63V.414h4.191v23.63zm28.856.421c-11.274 0-19.272-4.7-19.272-12.232C124.02 4.741 132.066 0 143.292 0s19.32 4.7 19.32 12.233-7.902 12.232-19.32 12.232zm0-21.333c-8.383 0-14.84 3.217-14.84 9.1 0 5.926 6.457 9.1 14.84 9.1s14.887-3.174 14.887-9.1c0-5.883-6.504-9.1-14.887-9.1z" />
            </svg>
         </a>
         
         <!--
         <div class="header__actions">
            

            <button id="dark-mode-toggle" type="button" class="icon icon--switch"><svg width="21" height="21" viewBox="0 0 48 48" fill="currentColor">
    <path d="M24 42q-7.5 0-12.75-5.25T6 24q0-6.75 3.975-11.45Q13.95 7.85 20.4 6.5q2.05-.4 2.8.7t-.05 3q-.45 1.15-.7 2.35-.25 1.2-.25 2.45 0 4.5 3.15 7.65Q28.5 25.8 33 25.8q1.25 0 2.425-.225 1.175-.225 2.275-.625 2.15-.8 3.2.075 1.05.875.55 2.975-1.35 6.05-6.05 10.025Q30.7 42 24 42Zm0-3q5.45 0 9.5-3.375t5.05-7.925q-1.25.55-2.675.825Q34.45 28.8 33 28.8q-5.75 0-9.775-4.025T19.2 15q0-1.2.25-2.575.25-1.375.9-3.125-4.9 1.35-8.125 5.475Q9 18.9 9 24q0 6.25 4.375 10.625T24 39Zm-.2-14.85Z" />
</svg><svg width="17" height="17" viewBox="0 0 17 17">
    <path d="M8.5 2.898c-.167 0-.306-.055-.415-.164s-.164-.248-.164-.415V.58c0-.167.055-.306.164-.415S8.333 0 8.5 0s.306.055.415.164.164.248.164.415v1.739c0 .167-.055.306-.164.415s-.248.164-.415.164zm3.96 1.642c-.116-.116-.174-.251-.174-.406s.058-.29.174-.406l1.217-1.236c.116-.116.254-.174.415-.174s.299.058.415.174.174.251.174.406-.058.29-.174.406L13.272 4.54c-.116.116-.251.174-.406.174s-.29-.058-.406-.174zm2.222 4.54c-.167 0-.306-.055-.415-.164s-.164-.248-.164-.415.055-.306.164-.415.248-.164.415-.164h1.739c.167 0 .306.055.415.164S17 8.333 17 8.5s-.055.306-.164.415-.248.164-.415.164h-1.739zM8.5 17c-.167 0-.306-.055-.415-.164s-.164-.248-.164-.415v-1.739c0-.167.055-.306.164-.415s.248-.164.415-.164.306.055.415.164.164.248.164.415v1.739c0 .167-.055.306-.164.415S8.667 17 8.5 17zM3.728 4.54L2.492 3.323c-.116-.116-.174-.254-.174-.415s.058-.299.174-.415.251-.174.406-.174.29.058.406.174L4.54 3.728c.116.116.174.251.174.406s-.058.29-.174.406c-.116.103-.254.155-.415.155s-.293-.052-.396-.155zm9.968 9.968l-1.236-1.236c-.116-.116-.174-.251-.174-.406s.058-.29.174-.406c.103-.103.235-.155.396-.155s.299.052.415.155l1.256 1.217c.116.116.171.254.164.415s-.061.299-.164.415c-.116.116-.254.174-.415.174s-.299-.058-.415-.174h0zM.58 9.08c-.167 0-.306-.055-.415-.164S0 8.667 0 8.5s.055-.306.164-.415.248-.164.415-.164h1.739c.167 0 .306.055.415.164s.164.248.164.415-.055.306-.164.415-.248.164-.415.164H.58zm1.912 5.428c-.116-.116-.174-.251-.174-.406s.058-.29.174-.406l1.236-1.236c.103-.103.235-.155.396-.155s.299.052.415.155c.116.116.174.254.174.415s-.058.299-.174.415l-1.217 1.217c-.116.116-.254.174-.415.174s-.299-.058-.415-.174h0zM8.5 13.136a4.47 4.47 0 0 1-3.284-1.352A4.47 4.47 0 0 1 3.864 8.5a4.47 4.47 0 0 1 1.352-3.284A4.47 4.47 0 0 1 8.5 3.864a4.47 4.47 0 0 1 3.284 1.352A4.47 4.47 0 0 1 13.136 8.5a4.47 4.47 0 0 1-1.352 3.284A4.47 4.47 0 0 1 8.5 13.136zm0-1.159a3.35 3.35 0 0 0 2.463-1.014A3.35 3.35 0 0 0 11.977 8.5a3.35 3.35 0 0 0-1.014-2.463A3.35 3.35 0 0 0 8.5 5.023a3.35 3.35 0 0 0-2.463 1.014A3.35 3.35 0 0 0 5.023 8.5a3.35 3.35 0 0 0 1.014 2.463A3.35 3.35 0 0 0 8.5 11.977z" fill="currentColor" />
</svg>
               Dark Mode
            </button>
         </div>
         -->
      </div>
  
      <h2 class="header__title hidden-rm">Documentation</h2>

      

      <!--<div class="platform-nav">
    <div class="platform-nav__main">
        <div class="container">
        </div>
        <button type="button" class="icon search-toggle search-toggle--keyboard visible-rm"><svg width="14" height="15">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.5 6.5a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-1.59 5.535a6.5 6.5 0 1 1 1.179-.931l1.845 2.096a.75.75 0 0 1-1.127.99L9.91 12.036Z"/>
</svg>
            Search
        </button>
    </div>
</div> -->
         <div id="search">
            <div class="search__inner">
               <div id="search-box"></div>
               
               <div class="search__dropdown">
                  <div id="search-filters"></div>
                  <div id="search-clear"></div>
                  <div id="search-results"></div>
                  <div id="search-powered-by"></div>
               </div>
            </div>
         </div>
   </div>
 </header>
   <section class="content">
      <div class="container">
         <div class="sidebar inactive scrollbar">
            <div class="hide-aside visible-rm">
               <button type="button" class="icon"><svg width="12" height="12">
    <path d="M11.253 1.691L10.125.563 5.653 5.035 1.181.563.053 1.691l4.472 4.472-4.472 4.472 1.128 1.128 4.472-4.472 4.472 4.472 1.128-1.128-4.472-4.472z" fill-rule="evenodd"/>
</svg>
                     Close Doc Navigation
               </button>
            </div>

            <a class="sidebar__title" href="../../index.html">MinIO Object Storage</a>
            
            
      <nav
         class="docs"
         role="navigation"
      >
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../deployments/installation.html">Installation and Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../replication/multi-site-replication.html">Site Replication Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">Core Operational Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../monitoring.html">Monitoring and Alerts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../external-iam.html">External Identity Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-side-encryption.html">Data Encryption (SSE)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../network-encryption.html">Network Encryption (TLS)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="enable-minio-tls.html">Enable TLS for MinIO</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Enable Multiple Domain TLS for MinIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="cert-manager.html">cert-manager</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../checklists.html">Deployment Checklists</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-recovery.html">Recover after Hardware Failure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/minio-console.html">MinIO Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/object-management.html">Object Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/monitoring.html">Monitoring Bucket and Object Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/identity-access-management.html">Identity and Access Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/server-side-encryption.html">Server-Side Encryption of Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/bucket-replication.html">Bucket Replication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/batch-framework.html">Batch Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/concepts.html">Core Administration Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers/minio-drivers.html">Software Development Kits (SDK)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers/security-token-service.html">Security Token Service (STS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers/transforms-with-object-lambda.html">Transforms with Object Lambda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers/file-transfer-protocol.html">File Transfer Protocol (FTP/SFTP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/kubernetes.html">Kubernetes Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/baremetal.html">Baremetal Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/s3-api-compatibility.html">S3 API Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integrations/integrations.html">Integrations</a></li>
</ul>

      </nav>
         </div><div class="content__toc scrollbar scrollbar--hover">
  	<button data-aside-toggle="doc" class="icon" type="button"><svg width="17" height="13" viewbox="0 0 17 13">
    <path d="M16.034 0H.966C.433 0 0 .346 0 .773s.433.773.966.773h15.068c.533 0 .966-.346.966-.773S16.567 0 16.034 0zm0 5.409H.966c-.533 0-.966.346-.966.773s.433.773.966.773h15.068c.533 0 .966-.346.966-.773s-.433-.773-.966-.773zm0 5.409H.966c-.533 0-.966.346-.966.773s.433.773.966.773h15.068c.533 0 .966-.346.966-.773s-.433-.773-.966-.773z" />
</svg> TOC Menu
  	</button>

  	<div id="content-toc"></div>
		<button class="icon search-toggle" type="button"><svg width="14" height="15">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.5 6.5a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-1.59 5.535a6.5 6.5 0 1 1 1.179-.931l1.845 2.096a.75.75 0 0 1-1.127.99L9.91 12.036Z"/>
</svg> Search
		</button>
</div>

         <div class="content__main">
            <div class="content__body">
               
  <section id="enable-multiple-domain-tls-for-minio">
<h1>Enable Multiple Domain TLS for MinIO<a class="headerlink" href="#enable-multiple-domain-tls-for-minio" title="Permalink to this heading"></a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#prerequisites" id="id1">Prerequisites</a></p></li>
<li><p><a class="reference internal" href="#procedure" id="id2">Procedure</a></p></li>
</ul>
</nav>
<p>MinIO supports Transport Layer Security (TLS) 1.2+ encryption of incoming and outgoing traffic.</p>
<div class="sd-tab-set parent docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" data-sync-id="k8s" for="sd-tab-item-0">
Kubernetes</label><div class="sd-tab-content docutils">
<p>The MinIO Operator supports the following approaches to enabling TLS on a MinIO Tenant:</p>
<ul class="simple">
<li><p>Automatic TLS provisioning using Kubernetes Cluster Signing Certificates</p></li>
<li><p>User-specified TLS using Kubernetes secrets</p></li>
<li><p>Certmanager-managed TLS certificates</p></li>
</ul>
<p>The MinIO Operator supports attaching user-specified TLS certificates when <a class="reference internal" href="../deployments/k8s-deploy-minio-tenant-on-kubernetes.html#minio-k8s-deploy-minio-tenant-security"><span class="std std-ref">deploying</span></a> or <a class="reference internal" href="../deployments/k8s-modify-minio-tenant-on-kubernetes.html#minio-k8s-modify-minio-tenant-security"><span class="std std-ref">modifying</span></a> the MinIO Tenant.</p>
<p>These custom certificates support <a class="reference external" href="https://en.wikipedia.org/wiki/Server_Name_Indication">Server Name Indication (SNI)</a>, where the MinIO server identifies which certificate to use based on the hostname specified by the connecting client.
For example, you can generate certificates signed by your organization’s preferred Certificate Authority (CA) and attach those to the MinIO Tenant.
Applications which trust that <abbr title="Certificate Authority">CA</abbr> can connect to the MinIO Tenant and fully validate the Tenant TLS certificates.</p>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" data-sync-id="baremetal" for="sd-tab-item-1">
Baremetal</label><div class="sd-tab-content docutils">
<p>MinIO automatically detects TLS certificates in the configured or default directory and starts with TLS enabled.</p>
<p>The MinIO server supports multiple TLS certificates, where the server uses <a class="reference external" href="https://en.wikipedia.org/wiki/Server_Name_Indication">Server Name Indication (SNI)</a> to identify which certificate to use when responding to a client request.
When a client connects using a specific hostname, MinIO uses <abbr title="Server Name Indication">SNI</abbr> to select the appropriate TLS certificate for that hostname.</p>
</div>
</div>
<p>This procedure documents enabling TLS for multiple domains in MinIO.
For instructions on TLS for single domains, see TODO</p>
<section id="prerequisites">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Prerequisites</a><a class="headerlink" href="#prerequisites" title="Permalink to this heading"></a></h2>
<section id="access-to-minio-cluster">
<h3>Access to MinIO Cluster<a class="headerlink" href="#access-to-minio-cluster" title="Permalink to this heading"></a></h3>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-2" name="sd-tab-set-1" type="radio">
</input><label class="sd-tab-label" data-sync-id="k8s" for="sd-tab-item-2">
Kubernetes</label><div class="sd-tab-content docutils">
<p>You must have access to the Kubernetes cluster, with administrative permissions associated to your <code class="docutils literal notranslate"><span class="pre">kubectl</span></code> configuration.</p>
<p>This procedure assumes your permission sets extends sufficiently to support deployment or modification of MinIO-associated resources on the Kubernetes cluster, including but not limited to pods, statefulsets, replicasets, deployments, and secrets.</p>
</div>
<input id="sd-tab-item-3" name="sd-tab-set-1" type="radio">
</input><label class="sd-tab-label" data-sync-id="baremetal" for="sd-tab-item-3">
Baremetal</label><div class="sd-tab-content docutils">
<p>This procedure uses <a class="reference internal" href="../../reference/minio-mc.html#command-mc" title="mc"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">mc</span></code></a> for performing operations on the MinIO cluster.
Install <code class="docutils literal notranslate"><span class="pre">mc</span></code> on a machine with network access to the cluster.
See the <code class="docutils literal notranslate"><span class="pre">mc</span></code> <a class="reference internal" href="../../reference/minio-mc.html#mc-install"><span class="std std-ref">Installation Quickstart</span></a> for instructions on downloading and installing <code class="docutils literal notranslate"><span class="pre">mc</span></code>.</p>
<p>This procedure assumes a configured <a class="reference internal" href="../../reference/minio-mc/mc-alias.html#command-mc.alias" title="mc.alias"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">alias</span></code></a> for the MinIO cluster.</p>
<p>This procedure also assumes SSH or similar shell-level access with administrative permissions to each MinIO host server.</p>
</div>
</div>
</section>
<section id="tls-certificates">
<h3>TLS Certificates<a class="headerlink" href="#tls-certificates" title="Permalink to this heading"></a></h3>
<p>Provision the necessary TLS certificates with a <a class="reference internal" href="../network-encryption.html#minio-tls-supported-cipher-suites"><span class="std std-ref">supported cipher suite</span></a> for use by MinIO.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-4" name="sd-tab-set-2" type="radio">
</input><label class="sd-tab-label" data-sync-id="k8s" for="sd-tab-item-4">
Kubernetes</label><div class="sd-tab-content docutils">
<p>See <a class="reference internal" href="../network-encryption.html#minio-tls-kubernetes"><span class="std std-ref">MinIO TLS on Kubernetes</span></a> for more complete guidance on the supported Tenant TLS configurations.</p>
</div>
<input id="sd-tab-item-5" name="sd-tab-set-2" type="radio">
</input><label class="sd-tab-label" data-sync-id="baremetal" for="sd-tab-item-5">
Baremetal</label><div class="sd-tab-content docutils">
<p>Provision certificate susing your preferred path, such as through your organizations internal Certificate Authority or by using a well-known global provider such as Digicert or Verisign.</p>
<p>You can create self-signed certificates using <code class="docutils literal notranslate"><span class="pre">openssl</span></code> or the MinIO <a class="reference external" href="https://github.com/minio/certgen">certgen</a> tool.</p>
<p>For example, the following command generates a self-signed certificate with a set of IP and DNS Subject Alternate Names (SANs) associated to the MinIO Server hosts:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>certgen<span class="w"> </span>-host<span class="w"> </span><span class="s2">&quot;localhost,minio-*.example.net&quot;</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="../network-encryption.html#minio-tls-baremetal"><span class="std std-ref">MinIO TLS on Baremetal</span></a> for more complete guidance on certificate generation and placement.</p>
</div>
</div>
</section>
</section>
<section id="procedure">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Procedure</a><a class="headerlink" href="#procedure" title="Permalink to this heading"></a></h2>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-6" name="sd-tab-set-3" type="radio">
</input><label class="sd-tab-label" data-sync-id="k8s" for="sd-tab-item-6">
Kubernetes</label><div class="sd-tab-content docutils">
<p>The MinIO Operator supports three methods of TLS certificate management on MinIO Tenants:</p>
<ul class="simple">
<li><p>MinIO automatic TLS certificate generation</p></li>
<li><p>User-specified TLS certificates</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cert-manager</span></code> managed TLS certificates</p></li>
</ul>
<p>You can also deploy MinIO Tenants without TLS enabled.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-8" name="sd-tab-set-4" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-8">
MinIO Auto-TLS</label><div class="sd-tab-content docutils">
<p>The following steps apply to both new and existing MinIO Deployments using <code class="docutils literal notranslate"><span class="pre">Kustomize</span></code>:</p>
<ol class="arabic">
<li><p>Review the <a class="reference internal" href="../../reference/operator-crd.html#minio-operator-crd"><span class="std std-ref">Tenant CRD</span></a> <code class="docutils literal notranslate"><span class="pre">TenantSpec.requestAutoCert</span></code> and <code class="docutils literal notranslate"><span class="pre">TenantSpec.certConfig</span></code> fields.</p>
<p>For existing MinIO Tenants, review the Kustomize resources used to create the Tenant and introspect those fields and their current configuration, if any.</p>
</li>
<li><p>Create or Modify your Tenant YAML to set the values of <code class="docutils literal notranslate"><span class="pre">requestAutoCert</span></code> and <code class="docutils literal notranslate"><span class="pre">certConfig</span></code> as necessary.
For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">spec</span><span class="p">:</span>
<span class="w">   </span><span class="nt">requestAutoCert</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">   </span><span class="nt">certConfig</span><span class="p">:</span>
<span class="w">     </span><span class="nt">commonName</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CN=MinioTenantCommonName&quot;</span>
<span class="w">     </span><span class="nt">organizationName</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;O=MyOrganizationName&quot;</span>
<span class="w">     </span><span class="nt">dnsNames</span><span class="p">:</span>
<span class="w">       </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;minio-tenant.domain.tld&#39;</span>
<span class="w">       </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;*.kubernete.cluster.dns.path.tld&#39;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">spec.certConfig.dnsNames</span></code> should contain a list of <abbr title="Subject Alternate Names">SAN</abbr> the TLS certificate covers.</p>
<p>See the <a class="reference external" href="https://github.com/minio/operator/blob/master/examples/kustomization/base/tenant.yaml">Kustomize Tenant base YAML</a> for a baseline template for guidance in creating or modifying your Tenant resource.</p>
</li>
<li><p>Apply the new Kustomization template</p>
<p>Once you apply the changes, the MinIO Operator automatically redeploys the Tenant with the updated configuration.</p>
</li>
</ol>
</div>
<input id="sd-tab-item-9" name="sd-tab-set-4" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-9">
CertManager</label><div class="sd-tab-content docutils">
<p>The following steps apply to both new and existing MinIO Deployments using <code class="docutils literal notranslate"><span class="pre">Kustomize</span></code>:</p>
<ol class="arabic">
<li><p>Review the <a class="reference internal" href="../../reference/operator-crd.html#minio-operator-crd"><span class="std std-ref">Tenant CRD</span></a> <code class="docutils literal notranslate"><span class="pre">TenantSpec.externalCertsCecret</span></code> fields</p>
<p>For existing MinIO Tenants, review the Kustomize resources used to create the Tenant and introspect that field’s current configuration, if any.</p>
</li>
<li><p>Create or Modify your Tenant YAML to reference the appropriate <code class="docutils literal notranslate"><span class="pre">cert-manager</span></code> resources.</p>
<p>For example, the following Tenant YAML fragment references a cert-manager resource <code class="docutils literal notranslate"><span class="pre">myminio-tls</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">minio.min.io/v2</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Tenant</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myminio</span>
<span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">minio-tenant</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">   </span><span class="c1">## Disable default tls certificates.</span>
<span class="w">   </span><span class="nt">requestAutoCert</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">   </span><span class="c1">## Use certificates generated by cert-manager.</span>
<span class="w">   </span><span class="nt">externalCertSecret</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default-domain</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager.io/v1</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">internal-domain</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager.io/v1</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">external-domain</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager.io/v1</span>
</pre></div>
</div>
</li>
<li><p>Apply the new Kustomization Template</p>
<p>Once you apply the changes, the MinIO Operator automatically redeploys the Tenant with the updated configuration.</p>
</li>
</ol>
</div>
<input id="sd-tab-item-10" name="sd-tab-set-4" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-10">
User-Specified</label><div class="sd-tab-content docutils">
<p>The following steps apply to both new and existing MinIO deployments using <code class="docutils literal notranslate"><span class="pre">Kustomize</span></code>:</p>
<ol class="arabic">
<li><p>Review the <a class="reference internal" href="../../reference/operator-crd.html#minio-operator-crd"><span class="std std-ref">Tenant CRD</span></a> <code class="docutils literal notranslate"><span class="pre">TenantSpec.externalCertSecret</span></code> field.</p>
<p>For existing MinIO Tenants, review the Kustomize resources used to create the Tenant and introspect that field’s current configuration, if any.</p>
</li>
<li><p>Create or modify your Tenant YAML to reference a secret of type <code class="docutils literal notranslate"><span class="pre">kubernetes.io/tls</span></code>:</p>
<p>For example, the following Tenant YAML fragment references two TLS secrets for each domain for which the MinIO Tenant accepts connections:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">minio.min.io/v2</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Tenant</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myminio</span>
<span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">minio-tenant</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">   </span><span class="c1">## Disable default tls certificates.</span>
<span class="w">   </span><span class="nt">requestAutoCert</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">   </span><span class="c1">## Use certificates generated by cert-manager.</span>
<span class="w">   </span><span class="nt">externalCertSecret</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">domain-certificate-1</span>
<span class="w">   </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kubernetes.io/tls</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">domain-certificate-2</span>
<span class="w">   </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kubernetes.io/tls</span>
</pre></div>
</div>
</li>
<li><p>Apply the new Kustomization Template</p>
<p>Once you apply the changes, the MinIO Operator automatically redeploys the Tenant with the updated configuration.</p>
</li>
</ol>
</div>
</div>
</div>
<input id="sd-tab-item-7" name="sd-tab-set-3" type="radio">
</input><label class="sd-tab-label" data-sync-id="baremetal" for="sd-tab-item-7">
Baremetal</label><div class="sd-tab-content docutils">
<p>The MinIO Server searches for TLS keys and certificates for each node and uses those credentials for enabling TLS.
MinIO automatically enables TLS upon discovery and validation of certificates.
The search location depends on your MinIO configuration:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-11" name="sd-tab-set-5" type="radio">
</input><label class="sd-tab-label" data-sync-id="baremetal-default" for="sd-tab-item-11">
Default Path</label><div class="sd-tab-content docutils">
<p>By default, the MinIO server looks for the TLS keys and certificates for each node in the following directory:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/.minio/certs
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">${HOME}</span></code> is the home directory of the user running the MinIO Server process.
You may need to create the <code class="docutils literal notranslate"><span class="pre">${HOME}/.minio/certs</span></code> directory if it does not exist.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">systemd</span></code> managed deployments this must correspond to the <code class="docutils literal notranslate"><span class="pre">USER</span></code> running the MinIO process.
If that user has no home directory, use the <span class="guilabel">Custom Path</span> option instead.</p>
</div>
<input id="sd-tab-item-12" name="sd-tab-set-5" type="radio">
</input><label class="sd-tab-label" data-sync-id="baremetal-custom" for="sd-tab-item-12">
Custom Path</label><div class="sd-tab-content docutils">
<p>You can specify a path for the MinIO server to search for certificates using the <a class="reference internal" href="../../reference/minio-server/minio-server.html#minio.server.-certs-dir" title="minio.server.--certs-dir"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">minio</span> <span class="pre">server</span> <span class="pre">--certs-dir</span></code></a> or <code class="docutils literal notranslate"><span class="pre">-S</span></code> parameter.</p>
<p>For example, the following command fragment directs the MinIO process to use the <code class="docutils literal notranslate"><span class="pre">/opt/minio/certs</span></code> directory for TLS certificates.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>minio<span class="w"> </span>server<span class="w"> </span>--certs-dir<span class="w"> </span>/opt/minio/certs<span class="w"> </span>...
</pre></div>
</div>
<p>The user running the MinIO service <em>must</em> have read and write permissions to this directory.</p>
</div>
</div>
<p>Place the certificates in the <code class="docutils literal notranslate"><span class="pre">/certs</span></code> folder, creating a subfolder in <code class="docutils literal notranslate"><span class="pre">/certs</span></code> for each additional domain for which MinIO should present TLS certificates.
While MinIO has no requirements for folder names, consider creating subfolders whose name matches the domain to improve human readability.
Place the TLS private and public key for that domain in the subfolder.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>/path/to/certs
<span class="w">   </span>private.key
<span class="w">   </span>public.crt
<span class="w">   </span>s3-example.net/
<span class="w">      </span>private.key
<span class="w">      </span>public.crt
<span class="w">   </span>internal-example.net/
<span class="w">      </span>private.key
<span class="w">      </span>public.crt
</pre></div>
</div>
</div>
</div>
</section>
</section>


            </div><div class="footer">
   This work is licensed under a
   <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License.</a>
   2020-Present, MinIO, Inc. 
   <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
      <img height="10" alt="Creative Commons License" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
   </a>
</div>
         </div>
      </div>
   </section><div id="cookie">
    <div class="container">
        <div class="cookie__text">
            <strong>Your privacy is important to us:</strong>
            We use cookies in order to give you a better experience. If you wish so, you can always review our 
            <a target="_blank" rel="noreferrer noopener" href="https://min.io/privacy-policy">Privacy Policy</a>.
        </div>

        <button type="button" id="cookie__btn">Accept</button>
    </div>
</div><script>
    // Dark mode and read mode detection

    // Dark mode
    /*var isDarkMode = localStorage.getItem("dark-mode");
    var dmToggleBtn = document.getElementById("dark-mode-toggle");
    if (isDarkMode === "true") {
       document.documentElement.classList.add("dark-mode");
       dmToggleBtn.classList.add("active");
    }

    // Read mode
    var isReadMode = localStorage.getItem("read-mode");
    var rmToggleBtn = document.getElementById("read-mode-toggle");

    if (isReadMode === "true") {
        document.documentElement.classList.add("read-mode");
        rmToggleBtn.classList.add("active");
    }*/
 </script>
  </body>
</html>
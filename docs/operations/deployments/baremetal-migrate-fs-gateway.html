

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Migrate from Gateway or Filesystem Mode &#8212; MinIO Object Storage (AGPLv3)</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/main.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script src="../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
    <script src="../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/instantsearch.js@4"></script>
    <script defer="defer" src="../../_static/js/main.js"></script>
    <script defer="defer" src="../../_static/js/instantSearch.js"></script>
    <link rel="canonical" href="https://docs.min.io/community/minio-object-store/operations/deployments/baremetal-migrate-fs-gateway.html" />
    <link rel="icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Site Replication Overview" href="../replication/multi-site-replication.html" />
    <link rel="prev" title="Decommission Server Pools" href="baremetal-decommission-server-pool.html" /><meta name="pagename" content="operations/deployments/baremetal-migrate-fs-gateway"/>

<!-- Preload fonts and scripts -->
<link rel="preload" href="../../_static/fonts/inter/Inter-Regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="../../_static/fonts/inter/Inter-Medium.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="../../_static/fonts/inter/Inter-Bold.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preconnect" href="https://E1CSOK3UC2-dsn.algolia.net" crossorigin />

<!-- Google Tag Manager: docs.min.io -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-56L9FLVL');</script>

<!-- Google Tag Manager: main -->
<script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TWQNHTD');
</script>

<!-- Google Analytics -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-56860620-1', 'auto');
    ga('send', 'pageview');
</script>

<!-- Linkedin -->
<script>
    _linkedin_partner_id = "1153348";
    window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];
    window._linkedin_data_partner_ids.push(_linkedin_partner_id);

    (function(l) {
    if (!l){window.lintrk = function(a,b){window.lintrk.q.push([a,b])};
    window.lintrk.q=[]}
    var s = document.getElementsByTagName("script")[0];
    var b = document.createElement("script");
    b.type = "text/javascript";b.async = true;
    b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";
    s.parentNode.insertBefore(b, s);})(window.lintrk);
</script>

<!-- Leadfeeder -->
<script>
    (function(){
        window.ldfdr = window.ldfdr || {};
        (function(d, s, ss, fs){
        fs = d.getElementsByTagName(s)[0];
        function ce(src){
            var cs  = d.createElement(s);
            cs.src = src;
            setTimeout(function(){fs.parentNode.insertBefore(cs,fs)}, 1);
        }
        ce(ss);
        })(document, 'script', 'https://sc.lfeeder.com/lftracker_v1_DzLR5a5kKJA7BoQ2.js');
    })();
</script>
   
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  


  </head><body><!-- Google Tag Manager: docs.min.io (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-56L9FLVL" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><header class="header inactive">
   <div class="container">
      <div class="header__inner">
         <a href="https://min.io?jmp=docs-minio-object-store" class="header__logo">
            <svg viewBox="0 0 162.612 24.465">
               <path d="M52.751.414h9.108v23.63h-9.108zM41.711.74l-18.488 9.92a.919.919 0 0 1-.856 0L3.879.74A2.808 2.808 0 0 0 2.558.414h-.023A2.4 2.4 0 0 0 0 2.641v21.376h9.1V13.842a.918.918 0 0 1 1.385-.682l10.361 5.568a3.634 3.634 0 0 0 3.336.028l10.933-5.634a.917.917 0 0 1 1.371.69v10.205h9.1V2.641A2.4 2.4 0 0 0 43.055.414h-.023a2.808 2.808 0 0 0-1.321.326zm65.564-.326h-9.237v10.755a.913.913 0 0 1-1.338.706L72.762.675a2.824 2.824 0 0 0-1.191-.261h-.016a2.4 2.4 0 0 0-2.535 2.227v21.377h9.163V13.275a.914.914 0 0 1 1.337-.707l24.032 11.2a2.813 2.813 0 0 0 1.188.26 2.4 2.4 0 0 0 2.535-2.227zm7.161 23.63V.414h4.191v23.63zm28.856.421c-11.274 0-19.272-4.7-19.272-12.232C124.02 4.741 132.066 0 143.292 0s19.32 4.7 19.32 12.233-7.902 12.232-19.32 12.232zm0-21.333c-8.383 0-14.84 3.217-14.84 9.1 0 5.926 6.457 9.1 14.84 9.1s14.887-3.174 14.887-9.1c0-5.883-6.504-9.1-14.887-9.1z" />
            </svg>
         </a>
         
         <!--
         <div class="header__actions">
            

            <button id="dark-mode-toggle" type="button" class="icon icon--switch"><svg width="21" height="21" viewBox="0 0 48 48" fill="currentColor">
    <path d="M24 42q-7.5 0-12.75-5.25T6 24q0-6.75 3.975-11.45Q13.95 7.85 20.4 6.5q2.05-.4 2.8.7t-.05 3q-.45 1.15-.7 2.35-.25 1.2-.25 2.45 0 4.5 3.15 7.65Q28.5 25.8 33 25.8q1.25 0 2.425-.225 1.175-.225 2.275-.625 2.15-.8 3.2.075 1.05.875.55 2.975-1.35 6.05-6.05 10.025Q30.7 42 24 42Zm0-3q5.45 0 9.5-3.375t5.05-7.925q-1.25.55-2.675.825Q34.45 28.8 33 28.8q-5.75 0-9.775-4.025T19.2 15q0-1.2.25-2.575.25-1.375.9-3.125-4.9 1.35-8.125 5.475Q9 18.9 9 24q0 6.25 4.375 10.625T24 39Zm-.2-14.85Z" />
</svg><svg width="17" height="17" viewBox="0 0 17 17">
    <path d="M8.5 2.898c-.167 0-.306-.055-.415-.164s-.164-.248-.164-.415V.58c0-.167.055-.306.164-.415S8.333 0 8.5 0s.306.055.415.164.164.248.164.415v1.739c0 .167-.055.306-.164.415s-.248.164-.415.164zm3.96 1.642c-.116-.116-.174-.251-.174-.406s.058-.29.174-.406l1.217-1.236c.116-.116.254-.174.415-.174s.299.058.415.174.174.251.174.406-.058.29-.174.406L13.272 4.54c-.116.116-.251.174-.406.174s-.29-.058-.406-.174zm2.222 4.54c-.167 0-.306-.055-.415-.164s-.164-.248-.164-.415.055-.306.164-.415.248-.164.415-.164h1.739c.167 0 .306.055.415.164S17 8.333 17 8.5s-.055.306-.164.415-.248.164-.415.164h-1.739zM8.5 17c-.167 0-.306-.055-.415-.164s-.164-.248-.164-.415v-1.739c0-.167.055-.306.164-.415s.248-.164.415-.164.306.055.415.164.164.248.164.415v1.739c0 .167-.055.306-.164.415S8.667 17 8.5 17zM3.728 4.54L2.492 3.323c-.116-.116-.174-.254-.174-.415s.058-.299.174-.415.251-.174.406-.174.29.058.406.174L4.54 3.728c.116.116.174.251.174.406s-.058.29-.174.406c-.116.103-.254.155-.415.155s-.293-.052-.396-.155zm9.968 9.968l-1.236-1.236c-.116-.116-.174-.251-.174-.406s.058-.29.174-.406c.103-.103.235-.155.396-.155s.299.052.415.155l1.256 1.217c.116.116.171.254.164.415s-.061.299-.164.415c-.116.116-.254.174-.415.174s-.299-.058-.415-.174h0zM.58 9.08c-.167 0-.306-.055-.415-.164S0 8.667 0 8.5s.055-.306.164-.415.248-.164.415-.164h1.739c.167 0 .306.055.415.164s.164.248.164.415-.055.306-.164.415-.248.164-.415.164H.58zm1.912 5.428c-.116-.116-.174-.251-.174-.406s.058-.29.174-.406l1.236-1.236c.103-.103.235-.155.396-.155s.299.052.415.155c.116.116.174.254.174.415s-.058.299-.174.415l-1.217 1.217c-.116.116-.254.174-.415.174s-.299-.058-.415-.174h0zM8.5 13.136a4.47 4.47 0 0 1-3.284-1.352A4.47 4.47 0 0 1 3.864 8.5a4.47 4.47 0 0 1 1.352-3.284A4.47 4.47 0 0 1 8.5 3.864a4.47 4.47 0 0 1 3.284 1.352A4.47 4.47 0 0 1 13.136 8.5a4.47 4.47 0 0 1-1.352 3.284A4.47 4.47 0 0 1 8.5 13.136zm0-1.159a3.35 3.35 0 0 0 2.463-1.014A3.35 3.35 0 0 0 11.977 8.5a3.35 3.35 0 0 0-1.014-2.463A3.35 3.35 0 0 0 8.5 5.023a3.35 3.35 0 0 0-2.463 1.014A3.35 3.35 0 0 0 5.023 8.5a3.35 3.35 0 0 0 1.014 2.463A3.35 3.35 0 0 0 8.5 11.977z" fill="currentColor" />
</svg>
               Dark Mode
            </button>
         </div>
         -->
      </div>
  
      <h2 class="header__title hidden-rm">Documentation</h2>

      

      <!--<div class="platform-nav">
    <div class="platform-nav__main">
        <div class="container">
        </div>
        <button type="button" class="icon search-toggle search-toggle--keyboard visible-rm"><svg width="14" height="15">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.5 6.5a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-1.59 5.535a6.5 6.5 0 1 1 1.179-.931l1.845 2.096a.75.75 0 0 1-1.127.99L9.91 12.036Z"/>
</svg>
            Search
        </button>
    </div>
</div> -->
         <div id="search">
            <div class="search__inner">
               <div id="search-box"></div>
               
               <div class="search__dropdown">
                  <div id="search-filters"></div>
                  <div id="search-clear"></div>
                  <div id="search-results"></div>
                  <div id="search-powered-by"></div>
               </div>
            </div>
         </div>
   </div>
 </header>
   <section class="content">
      <div class="container">
         <div class="sidebar inactive scrollbar">
            <div class="hide-aside visible-rm">
               <button type="button" class="icon"><svg width="12" height="12">
    <path d="M11.253 1.691L10.125.563 5.653 5.035 1.181.563.053 1.691l4.472 4.472-4.472 4.472 1.128 1.128 4.472-4.472 4.472 4.472 1.128-1.128-4.472-4.472z" fill-rule="evenodd"/>
</svg>
                     Close Doc Navigation
               </button>
            </div>

            <a class="sidebar__title" href="../../index.html">MinIO Object Storage</a>
            
            
      <nav
         class="docs"
         role="navigation"
      >
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="installation.html">Installation and Management</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="kubernetes.html">Deploy MinIO on Kubernetes</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="baremetal.html">Deploy MinIO on Baremetal</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="baremetal-deploy-minio-server.html">Install the MinIO Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="baremetal-upgrade-minio-deployment.html">Upgrade a MinIO Deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="baremetal-expand-minio-deployment.html">Expand a Distributed MinIO Deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="baremetal-decommission-server-pool.html">Decommission Server Pools</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Migrate from Gateway or Filesystem Mode</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../replication/multi-site-replication.html">Site Replication Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">Core Operational Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../monitoring.html">Monitoring and Alerts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../external-iam.html">External Identity Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-side-encryption.html">Data Encryption (SSE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../network-encryption.html">Network Encryption (TLS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../checklists.html">Deployment Checklists</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-recovery.html">Recover after Hardware Failure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/minio-console.html">MinIO Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/object-management.html">Object Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/monitoring.html">Monitoring Bucket and Object Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/identity-access-management.html">Identity and Access Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/server-side-encryption.html">Server-Side Encryption of Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/bucket-replication.html">Bucket Replication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/batch-framework.html">Batch Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/concepts.html">Core Administration Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers/minio-drivers.html">Software Development Kits (SDK)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers/security-token-service.html">Security Token Service (STS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers/transforms-with-object-lambda.html">Transforms with Object Lambda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers/file-transfer-protocol.html">File Transfer Protocol (FTP/SFTP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/kubernetes.html">Kubernetes Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/baremetal.html">Baremetal Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/s3-api-compatibility.html">S3 API Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integrations/integrations.html">Integrations</a></li>
</ul>

      </nav>
         </div><div class="content__toc scrollbar scrollbar--hover">
  	<button data-aside-toggle="doc" class="icon" type="button"><svg width="17" height="13" viewbox="0 0 17 13">
    <path d="M16.034 0H.966C.433 0 0 .346 0 .773s.433.773.966.773h15.068c.533 0 .966-.346.966-.773S16.567 0 16.034 0zm0 5.409H.966c-.533 0-.966.346-.966.773s.433.773.966.773h15.068c.533 0 .966-.346.966-.773s-.433-.773-.966-.773zm0 5.409H.966c-.533 0-.966.346-.966.773s.433.773.966.773h15.068c.533 0 .966-.346.966-.773s-.433-.773-.966-.773z" />
</svg> TOC Menu
  	</button>

  	<div id="content-toc"></div>
		<button class="icon search-toggle" type="button"><svg width="14" height="15">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.5 6.5a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-1.59 5.535a6.5 6.5 0 1 1 1.179-.931l1.845 2.096a.75.75 0 0 1-1.127.99L9.91 12.036Z"/>
</svg> Search
		</button>
</div>

         <div class="content__main">
            <div class="content__body">
               
  <section id="migrate-from-gateway-or-filesystem-mode">
<span id="minio-gateway-migration"></span><h1>Migrate from Gateway or Filesystem Mode<a class="headerlink" href="#migrate-from-gateway-or-filesystem-mode" title="Permalink to this heading"></a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#background" id="id1">Background</a></p></li>
<li><p><a class="reference internal" href="#overview" id="id2">Overview</a></p></li>
<li><p><a class="reference internal" href="#procedure" id="id3">Procedure</a></p></li>
</ul>
</nav>
<section id="background">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Background</a><a class="headerlink" href="#background" title="Permalink to this heading"></a></h2>
<p>The MinIO Gateway and the related filesystem mode entered a feature freeze in July 2020.
In February 2022, MinIO announced the <a class="reference external" href="https://blog.min.io/deprecation-of-the-minio-gateway/?ref=docs">deprecation of the MinIO Gateway</a>.
Along with the deprecation announcement, MinIO also announced that the feature would be removed in six months time.</p>
<p>As of <a class="reference external" href="https://github.com/minio/minio/releases/tag/RELEASE.2022-10-29T06-21-33Z">RELEASE.2022-10-29T06-21-33Z</a>, the MinIO Gateway and the related filesystem mode code have been removed.
Deployments still using the <cite>standalone</cite> or <cite>filesystem</cite> MinIO modes that upgrade to MinIO Server <a class="reference external" href="https://github.com/minio/minio/releases/tag/RELEASE.2022-10-29T06-21-33Z">RELEASE.2022-10-29T06-21-33Z</a> or later receive an error when attempting to start MinIO.</p>
</section>
<section id="overview">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>To upgrade to the <a class="reference external" href="https://github.com/minio/minio/releases/tag/RELEASE.2022-10-29T06-21-33Z">RELEASE.2022-10-29T06-21-33Z</a> or later release, those who were using the <cite>standalone</cite> or <cite>filesystem</cite> deployment modes must create a new <a class="reference internal" href="installation.html#minio-snsd"><span class="std std-ref">Single-Node Single-Drive</span></a> deployment and migrate settings and content to the new deployment.</p>
<p>This document outlines the steps required to successfully launch and migrate to a new deployment.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Standalone/file system mode continues to work on any release up to and including MinIO Server <a class="reference external" href="https://github.com/minio/minio/releases/tag/RELEASE.2022-10-24T18-35-07Z">RELEASE.2022-10-24T18-35-07Z</a>.
To continue using a standalone deployment, install that MinIO Server release with MinIO Client <a class="reference external" href="https://github.com/minio/mc/releases/tag/RELEASE.2022-10-29T10-09-23Z">RELEASE.2022-10-29T10-09-23Z</a> or any <a class="reference external" href="https://github.com/minio/minio/releases">earlier release</a> with its corresponding MinIO Client. Note that the version of the MinIO Client should be newer and as close as possible to the version of the MinIO server.</p>
<p>Filesystem mode deployments must be on at least <a class="reference external" href="https://github.com/minio/minio/releases/tag/RELEASE.2022-06-25T15-50-16Z">RELEASE.2022-06-25T15-50-16Z</a>  to use the MinIO Client import and export commands.
Filesystem mode deployments up to and including <a class="reference external" href="https://github.com/minio/minio/releases/tag/RELEASE.2022-06-20T23-13-45Z">RELEASE.2022-06-20T23-13-45Z</a> can be migrated by manually recreating users, policies, buckets, and other resources on the new deployment.</p>
</div>
</section>
<section id="procedure">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Procedure</a><a class="headerlink" href="#procedure" title="Permalink to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can set MinIO configuration settings in environment variables and using <a class="reference internal" href="../../reference/minio-mc-admin/mc-admin-config.html#mc.admin.config.set" title="mc.admin.config.set"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">mc</span> <span class="pre">admin</span> <span class="pre">config</span> <span class="pre">set</span></code></a>.
Depending on your current deployment setup, you may need to retrieve the values for both.</p>
<p>You can examine any runtime settings using <code class="docutils literal notranslate"><span class="pre">env</span> <span class="pre">|</span> <span class="pre">grep</span> <span class="pre">MINIO_</span></code> or, for deployments using MinIO’s systemd service, check the contents of <code class="docutils literal notranslate"><span class="pre">/etc/default/minio</span></code>.</p>
</div>
<ol class="arabic">
<li><p>For filesystem mode deployments:</p>
<p>If needed, upgrade the existing deployment.</p>
<p>The oldest acceptable versions are:</p>
<ul class="simple">
<li><p>MinIO <a class="reference external" href="https://github.com/minio/minio/releases/tag/RELEASE.2022-06-25T15-50-16Z">RELEASE.2022-06-25T15-50-16Z</a></p></li>
<li><p>MinIO Client <a class="reference external" href="https://github.com/minio/mc/releases/tag/RELEASE.2022-06-26T18-51-48Z">RELEASE.2022-06-26T18-51-48Z</a></p></li>
</ul>
<p>The newest acceptable versions are:</p>
<ul class="simple">
<li><p>MinIO <a class="reference external" href="https://github.com/minio/minio/releases/tag/RELEASE.2022-10-24T18-35-07Z">RELEASE.2022-10-24T18-35-07Z</a></p></li>
<li><p>MinIO Client <a class="reference external" href="https://github.com/minio/mc/releases/tag/RELEASE.2022-10-29T10-09-23Z">RELEASE.2022-10-29T10-09-23Z</a></p></li>
</ul>
</li>
<li><p>Create a new Single-Node Single-Drive MinIO deployment.</p>
<p>Follow our <a class="reference internal" href="baremetal-deploy-minio-server.html#deploy-minio-standalone"><span class="std std-ref">installation instructions</span></a> for your OS of choice and configure the installation as a Single-Node Single-Drive (SNSD) topology.</p>
<p>The location of the deployment can be any empty folder on the storage medium of your choice.
A new folder on the same drive can work for the new deployment as long as the existing deployment is not on the root of a drive.
If the existing standalone system points to the root of the drive, you must use a separate drive for the new deployment.</p>
<p>If both old and new deployments are on the same host:</p>
<ul>
<li><p>Install the new deployment to a different path from the existing deployment.</p></li>
<li><p>Set the new deployment’s Console and API ports to different ports than the existing deployment.</p>
<p>The following commandline options set the ports at startup:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../reference/minio-server/minio-server.html#minio.server.-address" title="minio.server.--address"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">--address</span></code></a> to set the API port.</p></li>
<li><p><a class="reference internal" href="../../reference/minio-server/minio-server.html#minio.server.-console-address" title="minio.server.--console-address"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">--console-address</span></code></a> to set the Console port.</p></li>
</ul>
</li>
<li><p>For deployments managed by <code class="docutils literal notranslate"><span class="pre">systemd</span></code>:</p>
<ul class="simple">
<li><p>Duplicate the existing <code class="docutils literal notranslate"><span class="pre">/etc/default/minio</span></code> environment file with a unique name.</p></li>
<li><p>In the new deployment’s service file, update <code class="docutils literal notranslate"><span class="pre">EnvironmentFile</span></code> to reference the new environment file.</p></li>
</ul>
</li>
</ul>
<p>The steps below use the <a class="reference internal" href="../../reference/minio-mc.html#command-mc" title="mc"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">mc</span></code></a> command line tool from both deployments.
<em>Existing MinIO Client</em> is <a class="reference internal" href="../../reference/minio-mc.html#command-mc" title="mc"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">mc</span></code></a> from the old deployment.
<em>New MinIO Client</em> is <a class="reference internal" href="../../reference/minio-mc.html#command-mc" title="mc"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">mc</span></code></a> from the new deployment.</p>
</li>
<li><p>Add an alias for the deployment created in the previous step using <a class="reference internal" href="../../reference/minio-mc/mc-alias-set.html#command-mc.alias.set" title="mc.alias.set"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">mc</span> <span class="pre">alias</span> <span class="pre">set</span></code></a> and the new MinIO Client.</p>
<div class="copyable highlight-shell notranslate"><div class="highlight"><pre><span></span>mc<span class="w"> </span><span class="nb">alias</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>NEWALIAS<span class="w"> </span>PATH<span class="w"> </span>ACCESSKEY<span class="w"> </span>SECRETKEY
</pre></div>
</div>
<ul class="simple">
<li><p>Use the new MinIO Client.</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">NEWALIAS</span></code> with the alias to create for the deployment.</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">PATH</span></code> with the IP address or hostname and port for the new deployment.</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">ACCESSKEY</span></code> and <code class="docutils literal notranslate"><span class="pre">SECRETKEY</span></code> with the credentials you used when creating the new deployment.</p></li>
</ul>
</li>
<li><p>Migrate settings according to the type of deployment:</p>
<ul class="simple">
<li><p>The MinIO Gateway is a stateless proxy service that provides S3 API compatibility for an array of backend storage systems.</p></li>
<li><p>Filesystem mode deployments provide an S3 access layer for a single MinIO server process and single storage volume.</p></li>
</ul>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-0">
Gateway</label><div class="sd-tab-content docutils">
<p>Migrate configuration settings:</p>
<p>If your deployment uses <a class="reference internal" href="../../reference/minio-server/settings.html#minio-server-environment-variables"><span class="std std-ref">environment variables</span></a> for configuration settings, copy the environment variables from the existing deployment’s <code class="docutils literal notranslate"><span class="pre">/etc/default/minio</span></code> file to the same file in the new deployment.
You may omit any <code class="docutils literal notranslate"><span class="pre">MINIO_CACHE_*</span></code> and <code class="docutils literal notranslate"><span class="pre">MINIO_GATEWAY_SSE</span></code> environment variables, as these are no longer used.</p>
<p>If you use <a class="reference internal" href="../../reference/minio-mc-admin/mc-admin-config.html#mc.admin.config.set" title="mc.admin.config.set"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">mc</span> <span class="pre">admin</span> <span class="pre">config</span> <span class="pre">set</span></code></a> for configuration settings, duplicate the existing settings for the new deployment using the new MinIO Client.</p>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-1">
Filesystem mode</label><div class="sd-tab-content docutils">
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following Filesystem mode steps presume the existing MinIO Client supports the needed export commands.
If it does not, recreate users, policies, lifecycle rules, and buckets manually on the new deployment using the new MinIO Client.</p>
</div>
<ol class="loweralpha">
<li><p>Export the existing deployment’s <strong>configurations</strong>.</p>
<p>Use the <a class="reference internal" href="../../reference/minio-mc-admin/mc-admin-config.html#mc.admin.config.export" title="mc.admin.config.export"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">mc</span> <span class="pre">admin</span> <span class="pre">config</span> <span class="pre">export</span></code></a> command with the existing MinIO Client to retrieve the configurations defined for the existing standalone MinIO deployment.</p>
<div class="copyable highlight-shell notranslate"><div class="highlight"><pre><span></span>mc<span class="w"> </span>admin<span class="w"> </span>config<span class="w"> </span><span class="nb">export</span><span class="w"> </span>ALIAS<span class="w"> </span>&gt;<span class="w"> </span>config.txt
</pre></div>
</div>
<ul class="simple">
<li><p>Use the existing MinIO Client.</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">ALIAS</span></code> with the alias used for the existing standalone deployment you are retrieving values from.</p></li>
</ul>
</li>
<li><p>Import <strong>configurations</strong> from the existing standalone deployment to the new deployment with the new MinIO Client.</p>
<div class="copyable highlight-shell notranslate"><div class="highlight"><pre><span></span>mc<span class="w"> </span>admin<span class="w"> </span>config<span class="w"> </span>import<span class="w"> </span>ALIAS<span class="w"> </span>&lt;<span class="w"> </span>config.txt
</pre></div>
</div>
<ul class="simple">
<li><p>Use the new MinIO Client.</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">ALIAS</span></code> with the alias for the new deployment.</p></li>
</ul>
<p>If <a class="reference internal" href="../../reference/minio-mc-admin/mc-admin-config.html#mc.admin.config.import" title="mc.admin.config.import"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">import</span></code></a> reports an error for a configuration key, comment it out with <code class="docutils literal notranslate"><span class="pre">#</span></code> at the beginning of the relevant line and try again.
When you are finished migrating the deployment, verify the current syntax for the target MinIO Server version and set any needed keys manually using <a class="reference internal" href="../../reference/minio-mc-admin/mc-admin-config.html#mc.admin.config.set" title="mc.admin.config.set"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">mc</span> <span class="pre">admin</span> <span class="pre">config</span> <span class="pre">set</span></code></a>.</p>
</li>
<li><p>Restart the server for the new deployment with the new MinIO Client.</p>
<div class="copyable highlight-shell notranslate"><div class="highlight"><pre><span></span>mc<span class="w"> </span>admin<span class="w"> </span>service<span class="w"> </span>restart<span class="w"> </span>ALIAS
</pre></div>
</div>
<ul class="simple">
<li><p>Use the new MinIO Client.</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">ALIAS</span></code> with the alias for the new deployment.</p></li>
</ul>
</li>
<li><p>Export <strong>bucket metadata</strong> from the existing standalone deployment with the existing MinIO Client.</p>
<p>The following command exports bucket metadata from the existing deployment to a <code class="docutils literal notranslate"><span class="pre">.zip</span></code> file.</p>
<p>The data includes:</p>
<ul class="simple">
<li><p>bucket targets</p></li>
<li><p>lifecycle rules</p></li>
<li><p>notifications</p></li>
<li><p>quotas</p></li>
<li><p>locks</p></li>
<li><p>versioning</p></li>
</ul>
<p>The export includes the bucket metadata only.
This command does not export objects from the existing deployment.</p>
<div class="copyable highlight-shell notranslate"><div class="highlight"><pre><span></span>mc<span class="w"> </span>admin<span class="w"> </span>cluster<span class="w"> </span>bucket<span class="w"> </span><span class="nb">export</span><span class="w"> </span>ALIAS
</pre></div>
</div>
<ul class="simple">
<li><p>Use the existing MinIO Client.</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">ALIAS</span></code> with the alias for your existing deployment.</p></li>
</ul>
<p>This command creates a <code class="docutils literal notranslate"><span class="pre">cluster-metadata.zip</span></code> file with metadata for each bucket.</p>
</li>
<li><p>Import <strong>bucket metadata</strong> to the new deployment with the new MinIO Client.</p>
<p>The following command reads the contents of the exported bucket <code class="docutils literal notranslate"><span class="pre">.zip</span></code> file and creates buckets on the new deployment with the same configurations.</p>
<div class="copyable highlight-shell notranslate"><div class="highlight"><pre><span></span>mc<span class="w"> </span>admin<span class="w"> </span>cluster<span class="w"> </span>bucket<span class="w"> </span>import<span class="w"> </span>ALIAS<span class="w"> </span>cluster-metadata.zip
</pre></div>
</div>
<ul class="simple">
<li><p>Use the new MinIO Client.</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">ALIAS</span></code> with the alias for the new deployment.</p></li>
</ul>
<p>The command creates buckets on the new deployment with the same configurations as provided by the metadata in the .zip file from the existing deployment.</p>
</li>
<li><p>Export <strong>IAM settings</strong> from the existing standalone deployment to new deployment with the existing MinIO Client.</p>
<p>If you are using an external identity and access management provider, recreate those settings in the new deployment along with all associated policies.</p>
<p>Use the following command to export IAM settings from the existing deployment.
This command exports:</p>
<ul class="simple">
<li><p>Groups and group mappings</p></li>
<li><p>STS users and STS user mappings</p></li>
<li><p>Policies</p></li>
<li><p>Users and user mappings</p></li>
</ul>
<div class="copyable highlight-shell notranslate"><div class="highlight"><pre><span></span>mc<span class="w"> </span>admin<span class="w"> </span>cluster<span class="w"> </span>iam<span class="w"> </span><span class="nb">export</span><span class="w"> </span>ALIAS
</pre></div>
</div>
<ul class="simple">
<li><p>Use the existing MinIO Client.</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">ALIAS</span></code> with the alias for your existing deployment.</p></li>
</ul>
<p>This command creates a <code class="docutils literal notranslate"><span class="pre">ALIAS-iam-info.zip</span></code> file with IAM data.</p>
</li>
<li><p>Import the <strong>IAM settings</strong> to the new deployment with the new MinIO Client.</p>
<p>Use the exported file to create the IAM setting on the new deployment.</p>
<div class="copyable highlight-shell notranslate"><div class="highlight"><pre><span></span>mc<span class="w"> </span>admin<span class="w"> </span>cluster<span class="w"> </span>iam<span class="w"> </span>import<span class="w"> </span>ALIAS<span class="w"> </span>alias-iam-info.zip
</pre></div>
</div>
<ul class="simple">
<li><p>Use the new MinIO Client.</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">ALIAS</span></code> with the alias for the new deployment.</p></li>
<li><p>Replace the name of the zip file with the name for the existing deployment’s file.</p></li>
</ul>
</li>
</ol>
</div>
</div>
</li>
<li><p>Migrate bucket contents with <a class="reference internal" href="../../reference/minio-mc/mc-mirror.html#command-mc.mirror" title="mc.mirror"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">mc</span> <span class="pre">mirror</span></code></a>.</p>
<p>Use <a class="reference internal" href="../../reference/minio-mc/mc-mirror.html#command-mc.mirror" title="mc.mirror"><code class="xref minio minio-mc docutils literal notranslate"><span class="pre">mc</span> <span class="pre">mirror</span></code></a> with the <a class="reference internal" href="../../reference/minio-mc/mc-mirror.html#mc.mirror.-preserve" title="mc.mirror.--preserve"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">--preserve</span></code></a> and <a class="reference internal" href="../../reference/minio-mc/mc-mirror.html#mc.mirror.-watch" title="mc.mirror.--watch"><code class="xref minio minio-mc-cmd docutils literal notranslate"><span class="pre">--watch</span></code></a> flags on the standalone deployment to move objects to the new <abbr title="Single-Node Single-Drive">SNSD</abbr> deployment with the existing MinIO Client</p>
<div class="copyable highlight-shell notranslate"><div class="highlight"><pre><span></span>mc<span class="w"> </span>mirror<span class="w"> </span>--preserve<span class="w"> </span>--watch<span class="w"> </span>SOURCE/BUCKET<span class="w"> </span>TARGET/BUCKET
</pre></div>
</div>
<ul class="simple">
<li><p>Use the existing MinIO Client.</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">SOURCE/BUCKET</span></code> with the alias and a bucket for the existing standalone deployment.</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">TARGET/BUCKET</span></code> with the alias and corresponding bucket for the new deployment.</p></li>
</ul>
</li>
<li><p>Stop writes to the standalone deployment from any S3 or POSIX client.</p></li>
<li><p>Wait for <code class="docutils literal notranslate"><span class="pre">mc</span> <span class="pre">mirror</span></code> to complete for all buckets for any remaining operations.</p></li>
<li><p>Stop the server for both deployments.</p></li>
<li><p>Restart the new MinIO deployment with the ports used for the previous standalone deployment.</p>
<p>Ensure you apply all environment variables and runtime configuration settings and validate the behavior of the new deployment.</p>
</li>
</ol>
</section>
</section>


            </div><div class="footer">
   This work is licensed under a
   <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License.</a>
   2020-Present, MinIO, Inc. 
   <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
      <img height="10" alt="Creative Commons License" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
   </a>
</div>
         </div>
      </div>
   </section><div id="cookie">
    <div class="container">
        <div class="cookie__text">
            <strong>Your privacy is important to us:</strong>
            We use cookies in order to give you a better experience. If you wish so, you can always review our 
            <a target="_blank" rel="noreferrer noopener" href="https://min.io/privacy-policy">Privacy Policy</a>.
        </div>

        <button type="button" id="cookie__btn">Accept</button>
    </div>
</div><script>
    // Dark mode and read mode detection

    // Dark mode
    /*var isDarkMode = localStorage.getItem("dark-mode");
    var dmToggleBtn = document.getElementById("dark-mode-toggle");
    if (isDarkMode === "true") {
       document.documentElement.classList.add("dark-mode");
       dmToggleBtn.classList.add("active");
    }

    // Read mode
    var isReadMode = localStorage.getItem("read-mode");
    var rmToggleBtn = document.getElementById("read-mode-toggle");

    if (isReadMode === "true") {
        document.documentElement.classList.add("read-mode");
        rmToggleBtn.classList.add("active");
    }*/
 </script>
  </body>
</html>